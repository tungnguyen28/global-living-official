{"ast":null,"code":"/**\n * jQuery Ripples plugin v0.6.3 / https://github.com/sirxemic/jquery.ripples\n * MIT License\n * @author sirxemic / https://sirxemic.com/\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) : typeof define === 'function' && define.amd ? define(['jquery'], factory) : factory(global.$);\n})(this, function ($) {\n  'use strict';\n\n  $ = $ && 'default' in $ ? $['default'] : $;\n  var gl;\n  var $window = $(window); // There is only one window, so why not cache the jQuery-wrapped window?\n\n  function isPercentage(str) {\n    return str[str.length - 1] == '%';\n  }\n\n  /**\r\n   *  Load a configuration of GL settings which the browser supports.\r\n   *  For example:\r\n   *  - not all browsers support WebGL\r\n   *  - not all browsers support floating point textures\r\n   *  - not all browsers support linear filtering for floating point textures\r\n   *  - not all browsers support rendering to floating point textures\r\n   *  - some browsers *do* support rendering to half-floating point textures instead.\r\n   */\n  function loadConfig() {\n    var canvas = document.createElement('canvas');\n    gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n    if (!gl) {\n      // Browser does not support WebGL.\n      return null;\n    }\n\n    // Load extensions\n    var extensions = {};\n    ['OES_texture_float', 'OES_texture_half_float', 'OES_texture_float_linear', 'OES_texture_half_float_linear'].forEach(function (name) {\n      var extension = gl.getExtension(name);\n      if (extension) {\n        extensions[name] = extension;\n      }\n    });\n\n    // If no floating point extensions are supported we can bail out early.\n    if (!extensions.OES_texture_float) {\n      return null;\n    }\n    var configs = [];\n    function createConfig(type, glType, arrayType) {\n      var name = 'OES_texture_' + type,\n        nameLinear = name + '_linear',\n        linearSupport = (nameLinear in extensions),\n        configExtensions = [name];\n      if (linearSupport) {\n        configExtensions.push(nameLinear);\n      }\n      return {\n        type: glType,\n        arrayType: arrayType,\n        linearSupport: linearSupport,\n        extensions: configExtensions\n      };\n    }\n    configs.push(createConfig('float', gl.FLOAT, Float32Array));\n    if (extensions.OES_texture_half_float) {\n      configs.push(\n      // Array type should be Uint16Array, but at least on iOS that breaks. In that case we\n      // just initialize the textures with data=null, instead of data=new Uint16Array(...).\n      // This makes initialization a tad slower, but it's still negligible.\n      createConfig('half_float', extensions.OES_texture_half_float.HALF_FLOAT_OES, null));\n    }\n\n    // Setup the texture and framebuffer\n    var texture = gl.createTexture();\n    var framebuffer = gl.createFramebuffer();\n    gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n    // Check for each supported texture type if rendering to it is supported\n    var config = null;\n    for (var i = 0; i < configs.length; i++) {\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 32, 32, 0, gl.RGBA, configs[i].type, null);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n      if (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\n        config = configs[i];\n        break;\n      }\n    }\n    return config;\n  }\n  function createImageData(width, height) {\n    try {\n      return new ImageData(width, height);\n    } catch (e) {\n      // Fallback for IE\n      var canvas = document.createElement('canvas');\n      return canvas.getContext('2d').createImageData(width, height);\n    }\n  }\n  function translateBackgroundPosition(value) {\n    var parts = value.split(' ');\n    if (parts.length === 1) {\n      switch (value) {\n        case 'center':\n          return ['50%', '50%'];\n        case 'top':\n          return ['50%', '0'];\n        case 'bottom':\n          return ['50%', '100%'];\n        case 'left':\n          return ['0', '50%'];\n        case 'right':\n          return ['100%', '50%'];\n        default:\n          return [value, '50%'];\n      }\n    } else {\n      return parts.map(function (part) {\n        switch (value) {\n          case 'center':\n            return '50%';\n          case 'top':\n          case 'left':\n            return '0';\n          case 'right':\n          case 'bottom':\n            return '100%';\n          default:\n            return part;\n        }\n      });\n    }\n  }\n  function createProgram(vertexSource, fragmentSource, uniformValues) {\n    function compileSource(type, source) {\n      var shader = gl.createShader(type);\n      gl.shaderSource(shader, source);\n      gl.compileShader(shader);\n      if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n        throw new Error('compile error: ' + gl.getShaderInfoLog(shader));\n      }\n      return shader;\n    }\n    var program = {};\n    program.id = gl.createProgram();\n    gl.attachShader(program.id, compileSource(gl.VERTEX_SHADER, vertexSource));\n    gl.attachShader(program.id, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\n    gl.linkProgram(program.id);\n    if (!gl.getProgramParameter(program.id, gl.LINK_STATUS)) {\n      throw new Error('link error: ' + gl.getProgramInfoLog(program.id));\n    }\n\n    // Fetch the uniform and attribute locations\n    program.uniforms = {};\n    program.locations = {};\n    gl.useProgram(program.id);\n    gl.enableVertexAttribArray(0);\n    var match,\n      name,\n      regex = /uniform (\\w+) (\\w+)/g,\n      shaderCode = vertexSource + fragmentSource;\n    while ((match = regex.exec(shaderCode)) != null) {\n      name = match[2];\n      program.locations[name] = gl.getUniformLocation(program.id, name);\n    }\n    return program;\n  }\n  function bindTexture(texture, unit) {\n    gl.activeTexture(gl.TEXTURE0 + (unit || 0));\n    gl.bindTexture(gl.TEXTURE_2D, texture);\n  }\n  function extractUrl(value) {\n    var urlMatch = /url\\([\"']?([^\"']*)[\"']?\\)/.exec(value);\n    if (urlMatch == null) {\n      return null;\n    }\n    return urlMatch[1];\n  }\n  function isDataUri(url) {\n    return url.match(/^data:/);\n  }\n  var config = loadConfig();\n  var transparentPixels = createImageData(32, 32);\n\n  // Extend the css\n  $('head').prepend('<style>.jquery-ripples { position: relative; z-index: 0; }</style>');\n\n  // RIPPLES CLASS DEFINITION\n  // =========================\n\n  var Ripples = function (el, options) {\n    var that = this;\n    this.$el = $(el);\n\n    // Init properties from options\n    this.interactive = options.interactive;\n    this.resolution = options.resolution;\n    this.textureDelta = new Float32Array([1 / this.resolution, 1 / this.resolution]);\n    this.perturbance = options.perturbance;\n    this.dropRadius = options.dropRadius;\n    this.crossOrigin = options.crossOrigin;\n    this.imageUrl = options.imageUrl;\n\n    // Init WebGL canvas\n    var canvas = document.createElement('canvas');\n    canvas.width = this.$el.innerWidth();\n    canvas.height = this.$el.innerHeight();\n    this.canvas = canvas;\n    this.$canvas = $(canvas);\n    this.$canvas.css({\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: -1\n    });\n    this.$el.addClass('jquery-ripples').append(canvas);\n    this.context = gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\n\n    // Load extensions\n    config.extensions.forEach(function (name) {\n      gl.getExtension(name);\n    });\n\n    // Auto-resize when window size changes.\n    this.updateSize = this.updateSize.bind(this);\n    $(window).on('resize', this.updateSize);\n\n    // Init rendertargets for ripple data.\n    this.textures = [];\n    this.framebuffers = [];\n    this.bufferWriteIndex = 0;\n    this.bufferReadIndex = 1;\n    var arrayType = config.arrayType;\n    var textureData = arrayType ? new arrayType(this.resolution * this.resolution * 4) : null;\n    for (var i = 0; i < 2; i++) {\n      var texture = gl.createTexture();\n      var framebuffer = gl.createFramebuffer();\n      gl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\n      gl.bindTexture(gl.TEXTURE_2D, texture);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.resolution, this.resolution, 0, gl.RGBA, config.type, textureData);\n      gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\n      this.textures.push(texture);\n      this.framebuffers.push(framebuffer);\n    }\n\n    // Init GL stuff\n    this.quad = gl.createBuffer();\n    gl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array([-1, -1, +1, -1, +1, +1, -1, +1]), gl.STATIC_DRAW);\n    this.initShaders();\n    this.initTexture();\n    this.setTransparentTexture();\n\n    // Load the image either from the options or CSS rules\n    this.loadImage();\n\n    // Set correct clear color and blend mode (regular alpha blending)\n    gl.clearColor(0, 0, 0, 0);\n    gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n    // Plugin is successfully initialized!\n    this.visible = true;\n    this.running = true;\n    this.inited = true;\n    this.destroyed = false;\n    this.setupPointerEvents();\n\n    // Init animation\n    function step() {\n      if (!that.destroyed) {\n        that.step();\n        requestAnimationFrame(step);\n      }\n    }\n    requestAnimationFrame(step);\n  };\n  Ripples.DEFAULTS = {\n    imageUrl: null,\n    resolution: 256,\n    dropRadius: 20,\n    perturbance: 0.03,\n    interactive: true,\n    crossOrigin: ''\n  };\n  Ripples.prototype = {\n    // Set up pointer (mouse + touch) events\n    setupPointerEvents: function () {\n      var that = this;\n      function pointerEventsEnabled() {\n        return that.visible && that.running && that.interactive;\n      }\n      function dropAtPointer(pointer, big) {\n        if (pointerEventsEnabled()) {\n          that.dropAtPointer(pointer, that.dropRadius * (big ? 1.5 : 1), big ? 0.14 : 0.01);\n        }\n      }\n\n      // Start listening to pointer events\n      this.$el\n\n      // Create regular, small ripples for mouse move and touch events...\n      .on('mousemove.ripples', function (e) {\n        dropAtPointer(e);\n      }).on('touchmove.ripples touchstart.ripples', function (e) {\n        var touches = e.originalEvent.changedTouches;\n        for (var i = 0; i < touches.length; i++) {\n          dropAtPointer(touches[i]);\n        }\n      })\n\n      // ...and only a big ripple on mouse down events.\n      .on('mousedown.ripples', function (e) {\n        dropAtPointer(e, true);\n      });\n    },\n    // Load the image either from the options or the element's CSS rules.\n    loadImage: function () {\n      var that = this;\n      gl = this.context;\n      var newImageSource = this.imageUrl || extractUrl(this.originalCssBackgroundImage) || extractUrl(this.$el.css('backgroundImage'));\n\n      // If image source is unchanged, don't reload it.\n      if (newImageSource == this.imageSource) {\n        return;\n      }\n      this.imageSource = newImageSource;\n\n      // Falsy source means no background.\n      if (!this.imageSource) {\n        this.setTransparentTexture();\n        return;\n      }\n\n      // Load the texture from a new image.\n      var image = new Image();\n      image.onload = function () {\n        gl = that.context;\n\n        // Only textures with dimensions of powers of two can have repeat wrapping.\n        function isPowerOfTwo(x) {\n          return (x & x - 1) == 0;\n        }\n        var wrapping = isPowerOfTwo(image.width) && isPowerOfTwo(image.height) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\n        gl.bindTexture(gl.TEXTURE_2D, that.backgroundTexture);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapping);\n        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapping);\n        gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\n        that.backgroundWidth = image.width;\n        that.backgroundHeight = image.height;\n\n        // Hide the background that we're replacing.\n        that.hideCssBackground();\n      };\n\n      // Fall back to a transparent texture when loading the image failed.\n      image.onerror = function () {\n        gl = that.context;\n        that.setTransparentTexture();\n      };\n\n      // Disable CORS when the image source is a data URI.\n      image.crossOrigin = isDataUri(this.imageSource) ? null : this.crossOrigin;\n      image.src = this.imageSource;\n    },\n    step: function () {\n      gl = this.context;\n      if (!this.visible) {\n        return;\n      }\n      this.computeTextureBoundaries();\n      if (this.running) {\n        this.update();\n      }\n      this.render();\n    },\n    drawQuad: function () {\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\n      gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\n      gl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\n    },\n    render: function () {\n      gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n      gl.viewport(0, 0, this.canvas.width, this.canvas.height);\n      gl.enable(gl.BLEND);\n      gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n      gl.useProgram(this.renderProgram.id);\n      bindTexture(this.backgroundTexture, 0);\n      bindTexture(this.textures[0], 1);\n      gl.uniform1f(this.renderProgram.locations.perturbance, this.perturbance);\n      gl.uniform2fv(this.renderProgram.locations.topLeft, this.renderProgram.uniforms.topLeft);\n      gl.uniform2fv(this.renderProgram.locations.bottomRight, this.renderProgram.uniforms.bottomRight);\n      gl.uniform2fv(this.renderProgram.locations.containerRatio, this.renderProgram.uniforms.containerRatio);\n      gl.uniform1i(this.renderProgram.locations.samplerBackground, 0);\n      gl.uniform1i(this.renderProgram.locations.samplerRipples, 1);\n      this.drawQuad();\n      gl.disable(gl.BLEND);\n    },\n    update: function () {\n      gl.viewport(0, 0, this.resolution, this.resolution);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n      bindTexture(this.textures[this.bufferReadIndex]);\n      gl.useProgram(this.updateProgram.id);\n      this.drawQuad();\n      this.swapBufferIndices();\n    },\n    swapBufferIndices: function () {\n      this.bufferWriteIndex = 1 - this.bufferWriteIndex;\n      this.bufferReadIndex = 1 - this.bufferReadIndex;\n    },\n    computeTextureBoundaries: function () {\n      var backgroundSize = this.$el.css('background-size');\n      var backgroundAttachment = this.$el.css('background-attachment');\n      var backgroundPosition = translateBackgroundPosition(this.$el.css('background-position'));\n\n      // Here the 'container' is the element which the background adapts to\n      // (either the chrome window or some element, depending on attachment)\n      var container;\n      if (backgroundAttachment == 'fixed') {\n        container = {\n          left: window.pageXOffset,\n          top: window.pageYOffset\n        };\n        container.width = $window.width();\n        container.height = $window.height();\n      } else {\n        container = this.$el.offset();\n        container.width = this.$el.innerWidth();\n        container.height = this.$el.innerHeight();\n      }\n\n      // TODO: background-clip\n      if (backgroundSize == 'cover') {\n        var scale = Math.max(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n        var backgroundWidth = this.backgroundWidth * scale;\n        var backgroundHeight = this.backgroundHeight * scale;\n      } else if (backgroundSize == 'contain') {\n        var scale = Math.min(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\n        var backgroundWidth = this.backgroundWidth * scale;\n        var backgroundHeight = this.backgroundHeight * scale;\n      } else {\n        backgroundSize = backgroundSize.split(' ');\n        var backgroundWidth = backgroundSize[0] || '';\n        var backgroundHeight = backgroundSize[1] || backgroundWidth;\n        if (isPercentage(backgroundWidth)) {\n          backgroundWidth = container.width * parseFloat(backgroundWidth) / 100;\n        } else if (backgroundWidth != 'auto') {\n          backgroundWidth = parseFloat(backgroundWidth);\n        }\n        if (isPercentage(backgroundHeight)) {\n          backgroundHeight = container.height * parseFloat(backgroundHeight) / 100;\n        } else if (backgroundHeight != 'auto') {\n          backgroundHeight = parseFloat(backgroundHeight);\n        }\n        if (backgroundWidth == 'auto' && backgroundHeight == 'auto') {\n          backgroundWidth = this.backgroundWidth;\n          backgroundHeight = this.backgroundHeight;\n        } else {\n          if (backgroundWidth == 'auto') {\n            backgroundWidth = this.backgroundWidth * (backgroundHeight / this.backgroundHeight);\n          }\n          if (backgroundHeight == 'auto') {\n            backgroundHeight = this.backgroundHeight * (backgroundWidth / this.backgroundWidth);\n          }\n        }\n      }\n\n      // Compute backgroundX and backgroundY in page coordinates\n      var backgroundX = backgroundPosition[0];\n      var backgroundY = backgroundPosition[1];\n      if (isPercentage(backgroundX)) {\n        backgroundX = container.left + (container.width - backgroundWidth) * parseFloat(backgroundX) / 100;\n      } else {\n        backgroundX = container.left + parseFloat(backgroundX);\n      }\n      if (isPercentage(backgroundY)) {\n        backgroundY = container.top + (container.height - backgroundHeight) * parseFloat(backgroundY) / 100;\n      } else {\n        backgroundY = container.top + parseFloat(backgroundY);\n      }\n      var elementOffset = this.$el.offset();\n      this.renderProgram.uniforms.topLeft = new Float32Array([(elementOffset.left - backgroundX) / backgroundWidth, (elementOffset.top - backgroundY) / backgroundHeight]);\n      this.renderProgram.uniforms.bottomRight = new Float32Array([this.renderProgram.uniforms.topLeft[0] + this.$el.innerWidth() / backgroundWidth, this.renderProgram.uniforms.topLeft[1] + this.$el.innerHeight() / backgroundHeight]);\n      var maxSide = Math.max(this.canvas.width, this.canvas.height);\n      this.renderProgram.uniforms.containerRatio = new Float32Array([this.canvas.width / maxSide, this.canvas.height / maxSide]);\n    },\n    initShaders: function () {\n      var vertexShader = ['attribute vec2 vertex;', 'varying vec2 coord;', 'void main() {', 'coord = vertex * 0.5 + 0.5;', 'gl_Position = vec4(vertex, 0.0, 1.0);', '}'].join('\\n');\n      this.dropProgram = createProgram(vertexShader, ['precision highp float;', 'const float PI = 3.141592653589793;', 'uniform sampler2D texture;', 'uniform vec2 center;', 'uniform float radius;', 'uniform float strength;', 'varying vec2 coord;', 'void main() {', 'vec4 info = texture2D(texture, coord);', 'float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);', 'drop = 0.5 - cos(drop * PI) * 0.5;', 'info.r += drop * strength;', 'gl_FragColor = info;', '}'].join('\\n'));\n      this.updateProgram = createProgram(vertexShader, ['precision highp float;', 'uniform sampler2D texture;', 'uniform vec2 delta;', 'varying vec2 coord;', 'void main() {', 'vec4 info = texture2D(texture, coord);', 'vec2 dx = vec2(delta.x, 0.0);', 'vec2 dy = vec2(0.0, delta.y);', 'float average = (', 'texture2D(texture, coord - dx).r +', 'texture2D(texture, coord - dy).r +', 'texture2D(texture, coord + dx).r +', 'texture2D(texture, coord + dy).r', ') * 0.25;', 'info.g += (average - info.r) * 2.0;', 'info.g *= 0.995;', 'info.r += info.g;', 'gl_FragColor = info;', '}'].join('\\n'));\n      gl.uniform2fv(this.updateProgram.locations.delta, this.textureDelta);\n      this.renderProgram = createProgram(['precision highp float;', 'attribute vec2 vertex;', 'uniform vec2 topLeft;', 'uniform vec2 bottomRight;', 'uniform vec2 containerRatio;', 'varying vec2 ripplesCoord;', 'varying vec2 backgroundCoord;', 'void main() {', 'backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);', 'backgroundCoord.y = 1.0 - backgroundCoord.y;', 'ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;', 'gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);', '}'].join('\\n'), ['precision highp float;', 'uniform sampler2D samplerBackground;', 'uniform sampler2D samplerRipples;', 'uniform vec2 delta;', 'uniform float perturbance;', 'varying vec2 ripplesCoord;', 'varying vec2 backgroundCoord;', 'void main() {', 'float height = texture2D(samplerRipples, ripplesCoord).r;', 'float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;', 'float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;', 'vec3 dx = vec3(delta.x, heightX - height, 0.0);', 'vec3 dy = vec3(0.0, heightY - height, delta.y);', 'vec2 offset = -normalize(cross(dy, dx)).xz;', 'float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);', 'gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;', '}'].join('\\n'));\n      gl.uniform2fv(this.renderProgram.locations.delta, this.textureDelta);\n    },\n    initTexture: function () {\n      this.backgroundTexture = gl.createTexture();\n      gl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n      gl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n      gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n    },\n    setTransparentTexture: function () {\n      gl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\n      gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, transparentPixels);\n    },\n    hideCssBackground: function () {\n      // Check whether we're changing inline CSS or overriding a global CSS rule.\n      var inlineCss = this.$el[0].style.backgroundImage;\n      if (inlineCss == 'none') {\n        return;\n      }\n      this.originalInlineCss = inlineCss;\n      this.originalCssBackgroundImage = this.$el.css('backgroundImage');\n      this.$el.css('backgroundImage', 'none');\n    },\n    restoreCssBackground: function () {\n      // Restore background by either changing the inline CSS rule to what it was, or\n      // simply remove the inline CSS rule if it never was inlined.\n      this.$el.css('backgroundImage', this.originalInlineCss || '');\n    },\n    dropAtPointer: function (pointer, radius, strength) {\n      var borderLeft = parseInt(this.$el.css('border-left-width')) || 0,\n        borderTop = parseInt(this.$el.css('border-top-width')) || 0;\n      this.drop(pointer.pageX - this.$el.offset().left - borderLeft, pointer.pageY - this.$el.offset().top - borderTop, radius, strength);\n    },\n    /**\r\n     *  Public methods\r\n     */\n    drop: function (x, y, radius, strength) {\n      gl = this.context;\n      var elWidth = this.$el.innerWidth();\n      var elHeight = this.$el.innerHeight();\n      var longestSide = Math.max(elWidth, elHeight);\n      radius = radius / longestSide;\n      var dropPosition = new Float32Array([(2 * x - elWidth) / longestSide, (elHeight - 2 * y) / longestSide]);\n      gl.viewport(0, 0, this.resolution, this.resolution);\n      gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\n      bindTexture(this.textures[this.bufferReadIndex]);\n      gl.useProgram(this.dropProgram.id);\n      gl.uniform2fv(this.dropProgram.locations.center, dropPosition);\n      gl.uniform1f(this.dropProgram.locations.radius, radius);\n      gl.uniform1f(this.dropProgram.locations.strength, strength);\n      this.drawQuad();\n      this.swapBufferIndices();\n    },\n    updateSize: function () {\n      var newWidth = this.$el.innerWidth(),\n        newHeight = this.$el.innerHeight();\n      if (newWidth != this.canvas.width || newHeight != this.canvas.height) {\n        this.canvas.width = newWidth;\n        this.canvas.height = newHeight;\n      }\n    },\n    destroy: function () {\n      this.$el.off('.ripples').removeClass('jquery-ripples').removeData('ripples');\n\n      // Make sure the last used context is garbage-collected\n      gl = null;\n      $(window).off('resize', this.updateSize);\n      this.$canvas.remove();\n      this.restoreCssBackground();\n      this.destroyed = true;\n    },\n    show: function () {\n      this.visible = true;\n      this.$canvas.show();\n      this.hideCssBackground();\n    },\n    hide: function () {\n      this.visible = false;\n      this.$canvas.hide();\n      this.restoreCssBackground();\n    },\n    pause: function () {\n      this.running = false;\n    },\n    play: function () {\n      this.running = true;\n    },\n    set: function (property, value) {\n      switch (property) {\n        case 'dropRadius':\n        case 'perturbance':\n        case 'interactive':\n        case 'crossOrigin':\n          this[property] = value;\n          break;\n        case 'imageUrl':\n          this.imageUrl = value;\n          this.loadImage();\n          break;\n      }\n    }\n  };\n\n  // RIPPLES PLUGIN DEFINITION\n  // ==========================\n\n  var old = $.fn.ripples;\n  $.fn.ripples = function (option) {\n    if (!config) {\n      throw new Error('Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.');\n    }\n    var args = arguments.length > 1 ? Array.prototype.slice.call(arguments, 1) : undefined;\n    return this.each(function () {\n      var $this = $(this),\n        data = $this.data('ripples'),\n        options = $.extend({}, Ripples.DEFAULTS, $this.data(), typeof option == 'object' && option);\n      if (!data && typeof option == 'string') {\n        return;\n      }\n      if (!data) {\n        $this.data('ripples', data = new Ripples(this, options));\n      } else if (typeof option == 'string') {\n        Ripples.prototype[option].apply(data, args);\n      }\n    });\n  };\n  $.fn.ripples.Constructor = Ripples;\n\n  // RIPPLES NO CONFLICT\n  // ====================\n\n  $.fn.ripples.noConflict = function () {\n    $.fn.ripples = old;\n    return this;\n  };\n});","map":{"version":3,"names":["global","factory","exports","module","require","define","amd","$","gl","$window","window","isPercentage","str","length","loadConfig","canvas","document","createElement","getContext","extensions","forEach","name","extension","getExtension","OES_texture_float","configs","createConfig","type","glType","arrayType","nameLinear","linearSupport","configExtensions","push","FLOAT","Float32Array","OES_texture_half_float","HALF_FLOAT_OES","texture","createTexture","framebuffer","createFramebuffer","bindFramebuffer","FRAMEBUFFER","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_MIN_FILTER","NEAREST","TEXTURE_MAG_FILTER","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","config","i","texImage2D","RGBA","framebufferTexture2D","COLOR_ATTACHMENT0","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","createImageData","width","height","ImageData","e","translateBackgroundPosition","value","parts","split","map","part","createProgram","vertexSource","fragmentSource","uniformValues","compileSource","source","shader","createShader","shaderSource","compileShader","getShaderParameter","COMPILE_STATUS","Error","getShaderInfoLog","program","id","attachShader","VERTEX_SHADER","FRAGMENT_SHADER","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","uniforms","locations","useProgram","enableVertexAttribArray","match","regex","shaderCode","exec","getUniformLocation","unit","activeTexture","TEXTURE0","extractUrl","urlMatch","isDataUri","url","transparentPixels","prepend","Ripples","el","options","that","$el","interactive","resolution","textureDelta","perturbance","dropRadius","crossOrigin","imageUrl","innerWidth","innerHeight","$canvas","css","position","left","top","right","bottom","zIndex","addClass","append","context","updateSize","bind","on","textures","framebuffers","bufferWriteIndex","bufferReadIndex","textureData","LINEAR","quad","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","STATIC_DRAW","initShaders","initTexture","setTransparentTexture","loadImage","clearColor","blendFunc","SRC_ALPHA","ONE_MINUS_SRC_ALPHA","visible","running","inited","destroyed","setupPointerEvents","step","requestAnimationFrame","DEFAULTS","prototype","pointerEventsEnabled","dropAtPointer","pointer","big","touches","originalEvent","changedTouches","newImageSource","originalCssBackgroundImage","imageSource","image","Image","onload","isPowerOfTwo","x","wrapping","REPEAT","backgroundTexture","UNSIGNED_BYTE","backgroundWidth","backgroundHeight","hideCssBackground","onerror","src","computeTextureBoundaries","update","render","drawQuad","vertexAttribPointer","drawArrays","TRIANGLE_FAN","viewport","enable","BLEND","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","renderProgram","uniform1f","uniform2fv","topLeft","bottomRight","containerRatio","uniform1i","samplerBackground","samplerRipples","disable","updateProgram","swapBufferIndices","backgroundSize","backgroundAttachment","backgroundPosition","container","pageXOffset","pageYOffset","offset","scale","Math","max","min","parseFloat","backgroundX","backgroundY","elementOffset","maxSide","vertexShader","join","dropProgram","delta","pixelStorei","UNPACK_FLIP_Y_WEBGL","inlineCss","style","backgroundImage","originalInlineCss","restoreCssBackground","radius","strength","borderLeft","parseInt","borderTop","drop","pageX","pageY","y","elWidth","elHeight","longestSide","dropPosition","center","newWidth","newHeight","destroy","off","removeClass","removeData","remove","show","hide","pause","play","set","property","old","fn","ripples","option","args","arguments","Array","slice","call","undefined","each","$this","data","extend","apply","Constructor","noConflict"],"sources":["/Users/macbook/Desktop/DEVELOPER COURSE/WEBSITE TEMPLATE/Reactjs/envato_EJNVXNW/arino-react/node_modules/jquery.ripples/dist/jquery.ripples.js"],"sourcesContent":["/**\n * jQuery Ripples plugin v0.6.3 / https://github.com/sirxemic/jquery.ripples\n * MIT License\n * @author sirxemic / https://sirxemic.com/\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :\n\ttypeof define === 'function' && define.amd ? define(['jquery'], factory) :\n\t(factory(global.$));\n}(this, (function ($) { 'use strict';\n\n$ = $ && 'default' in $ ? $['default'] : $;\n\nvar gl;\r\nvar $window = $(window); // There is only one window, so why not cache the jQuery-wrapped window?\r\n\r\nfunction isPercentage(str) {\r\n\treturn str[str.length - 1] == '%';\r\n}\r\n\r\n/**\r\n *  Load a configuration of GL settings which the browser supports.\r\n *  For example:\r\n *  - not all browsers support WebGL\r\n *  - not all browsers support floating point textures\r\n *  - not all browsers support linear filtering for floating point textures\r\n *  - not all browsers support rendering to floating point textures\r\n *  - some browsers *do* support rendering to half-floating point textures instead.\r\n */\r\nfunction loadConfig() {\r\n\tvar canvas = document.createElement('canvas');\r\n\tgl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n\r\n\tif (!gl) {\r\n\t\t// Browser does not support WebGL.\r\n\t\treturn null;\r\n\t}\r\n\r\n\t// Load extensions\r\n\tvar extensions = {};\r\n\t[\r\n\t\t'OES_texture_float',\r\n\t\t'OES_texture_half_float',\r\n\t\t'OES_texture_float_linear',\r\n\t\t'OES_texture_half_float_linear'\r\n\t].forEach(function(name) {\r\n\t\tvar extension = gl.getExtension(name);\r\n\t\tif (extension) {\r\n\t\t\textensions[name] = extension;\r\n\t\t}\r\n\t});\r\n\r\n\t// If no floating point extensions are supported we can bail out early.\r\n\tif (!extensions.OES_texture_float) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tvar configs = [];\r\n\r\n\tfunction createConfig(type, glType, arrayType) {\r\n\t\tvar name = 'OES_texture_' + type,\r\n\t\t\t\tnameLinear = name + '_linear',\r\n\t\t\t\tlinearSupport = nameLinear in extensions,\r\n\t\t\t\tconfigExtensions = [name];\r\n\r\n\t\tif (linearSupport) {\r\n\t\t\tconfigExtensions.push(nameLinear);\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\ttype: glType,\r\n\t\t\tarrayType: arrayType,\r\n\t\t\tlinearSupport: linearSupport,\r\n\t\t\textensions: configExtensions\r\n\t\t};\r\n\t}\r\n\r\n\tconfigs.push(\r\n\t\tcreateConfig('float', gl.FLOAT, Float32Array)\r\n\t);\r\n\r\n\tif (extensions.OES_texture_half_float) {\r\n\t\tconfigs.push(\r\n\t\t\t// Array type should be Uint16Array, but at least on iOS that breaks. In that case we\r\n\t\t\t// just initialize the textures with data=null, instead of data=new Uint16Array(...).\r\n\t\t\t// This makes initialization a tad slower, but it's still negligible.\r\n\t\t\tcreateConfig('half_float', extensions.OES_texture_half_float.HALF_FLOAT_OES, null)\r\n\t\t);\r\n\t}\r\n\r\n\t// Setup the texture and framebuffer\r\n\tvar texture = gl.createTexture();\r\n\tvar framebuffer = gl.createFramebuffer();\r\n\r\n\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\r\n\t// Check for each supported texture type if rendering to it is supported\r\n\tvar config = null;\r\n\r\n\tfor (var i = 0; i < configs.length; i++) {\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 32, 32, 0, gl.RGBA, configs[i].type, null);\r\n\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\t\tif (gl.checkFramebufferStatus(gl.FRAMEBUFFER) === gl.FRAMEBUFFER_COMPLETE) {\r\n\t\t\tconfig = configs[i];\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\treturn config;\r\n}\r\n\r\nfunction createImageData(width, height) {\r\n\ttry {\r\n\t\treturn new ImageData(width, height);\r\n\t}\r\n\tcatch (e) {\r\n\t\t// Fallback for IE\r\n\t\tvar canvas = document.createElement('canvas');\r\n\t\treturn canvas.getContext('2d').createImageData(width, height);\r\n\t}\r\n}\r\n\r\nfunction translateBackgroundPosition(value) {\r\n\tvar parts = value.split(' ');\r\n\r\n\tif (parts.length === 1) {\r\n\t\tswitch (value) {\r\n\t\t\tcase 'center':\r\n\t\t\t\treturn ['50%', '50%'];\r\n\t\t\tcase 'top':\r\n\t\t\t\treturn ['50%', '0'];\r\n\t\t\tcase 'bottom':\r\n\t\t\t\treturn ['50%', '100%'];\r\n\t\t\tcase 'left':\r\n\t\t\t\treturn ['0', '50%'];\r\n\t\t\tcase 'right':\r\n\t\t\t\treturn ['100%', '50%'];\r\n\t\t\tdefault:\r\n\t\t\t\treturn [value, '50%'];\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\treturn parts.map(function(part) {\r\n\t\t\tswitch (value) {\r\n\t\t\t\tcase 'center':\r\n\t\t\t\t\treturn '50%';\r\n\t\t\t\tcase 'top':\r\n\t\t\t\tcase 'left':\r\n\t\t\t\t\treturn '0';\r\n\t\t\t\tcase 'right':\r\n\t\t\t\tcase 'bottom':\r\n\t\t\t\t\treturn '100%';\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn part;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction createProgram(vertexSource, fragmentSource, uniformValues) {\r\n\tfunction compileSource(type, source) {\r\n\t\tvar shader = gl.createShader(type);\r\n\t\tgl.shaderSource(shader, source);\r\n\t\tgl.compileShader(shader);\r\n\t\tif (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n\t\t\tthrow new Error('compile error: ' + gl.getShaderInfoLog(shader));\r\n\t\t}\r\n\t\treturn shader;\r\n\t}\r\n\r\n\tvar program = {};\r\n\r\n\tprogram.id = gl.createProgram();\r\n\tgl.attachShader(program.id, compileSource(gl.VERTEX_SHADER, vertexSource));\r\n\tgl.attachShader(program.id, compileSource(gl.FRAGMENT_SHADER, fragmentSource));\r\n\tgl.linkProgram(program.id);\r\n\tif (!gl.getProgramParameter(program.id, gl.LINK_STATUS)) {\r\n\t\tthrow new Error('link error: ' + gl.getProgramInfoLog(program.id));\r\n\t}\r\n\r\n\t// Fetch the uniform and attribute locations\r\n\tprogram.uniforms = {};\r\n\tprogram.locations = {};\r\n\tgl.useProgram(program.id);\r\n\tgl.enableVertexAttribArray(0);\r\n\tvar match, name, regex = /uniform (\\w+) (\\w+)/g, shaderCode = vertexSource + fragmentSource;\r\n\twhile ((match = regex.exec(shaderCode)) != null) {\r\n\t\tname = match[2];\r\n\t\tprogram.locations[name] = gl.getUniformLocation(program.id, name);\r\n\t}\r\n\r\n\treturn program;\r\n}\r\n\r\nfunction bindTexture(texture, unit) {\r\n\tgl.activeTexture(gl.TEXTURE0 + (unit || 0));\r\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n}\r\n\r\nfunction extractUrl(value) {\r\n\tvar urlMatch = /url\\([\"']?([^\"']*)[\"']?\\)/.exec(value);\r\n\tif (urlMatch == null) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn urlMatch[1];\r\n}\r\n\r\nfunction isDataUri(url) {\r\n\treturn url.match(/^data:/);\r\n}\r\n\r\nvar config = loadConfig();\r\nvar transparentPixels = createImageData(32, 32);\r\n\r\n// Extend the css\r\n$('head').prepend('<style>.jquery-ripples { position: relative; z-index: 0; }</style>');\r\n\r\n// RIPPLES CLASS DEFINITION\r\n// =========================\r\n\r\nvar Ripples = function (el, options) {\r\n\tvar that = this;\r\n\r\n\tthis.$el = $(el);\r\n\r\n\t// Init properties from options\r\n\tthis.interactive = options.interactive;\r\n\tthis.resolution = options.resolution;\r\n\tthis.textureDelta = new Float32Array([1 / this.resolution, 1 / this.resolution]);\r\n\r\n\tthis.perturbance = options.perturbance;\r\n\tthis.dropRadius = options.dropRadius;\r\n\r\n\tthis.crossOrigin = options.crossOrigin;\r\n\tthis.imageUrl = options.imageUrl;\r\n\r\n\t// Init WebGL canvas\r\n\tvar canvas = document.createElement('canvas');\r\n\tcanvas.width = this.$el.innerWidth();\r\n\tcanvas.height = this.$el.innerHeight();\r\n\tthis.canvas = canvas;\r\n\tthis.$canvas = $(canvas);\r\n\tthis.$canvas.css({\r\n\t\tposition: 'absolute',\r\n\t\tleft: 0,\r\n\t\ttop: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t\tzIndex: -1\r\n\t});\r\n\r\n\tthis.$el.addClass('jquery-ripples').append(canvas);\r\n\tthis.context = gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');\r\n\r\n\t// Load extensions\r\n\tconfig.extensions.forEach(function(name) {\r\n\t\tgl.getExtension(name);\r\n\t});\r\n\r\n\t// Auto-resize when window size changes.\r\n\tthis.updateSize = this.updateSize.bind(this);\r\n\t$(window).on('resize', this.updateSize);\r\n\r\n\t// Init rendertargets for ripple data.\r\n\tthis.textures = [];\r\n\tthis.framebuffers = [];\r\n\tthis.bufferWriteIndex = 0;\r\n\tthis.bufferReadIndex = 1;\r\n\r\n\tvar arrayType = config.arrayType;\r\n\tvar textureData = arrayType ? new arrayType(this.resolution * this.resolution * 4) : null;\r\n\r\n\tfor (var i = 0; i < 2; i++) {\r\n\t\tvar texture = gl.createTexture();\r\n\t\tvar framebuffer = gl.createFramebuffer();\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, framebuffer);\r\n\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, texture);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, config.linearSupport ? gl.LINEAR : gl.NEAREST);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, this.resolution, this.resolution, 0, gl.RGBA, config.type, textureData);\r\n\r\n\t\tgl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, texture, 0);\r\n\r\n\t\tthis.textures.push(texture);\r\n\t\tthis.framebuffers.push(framebuffer);\r\n\t}\r\n\r\n\t// Init GL stuff\r\n\tthis.quad = gl.createBuffer();\r\n\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\r\n\tgl.bufferData(gl.ARRAY_BUFFER, new Float32Array([\r\n\t\t-1, -1,\r\n\t\t+1, -1,\r\n\t\t+1, +1,\r\n\t\t-1, +1\r\n\t]), gl.STATIC_DRAW);\r\n\r\n\tthis.initShaders();\r\n\tthis.initTexture();\r\n\tthis.setTransparentTexture();\r\n\r\n\t// Load the image either from the options or CSS rules\r\n\tthis.loadImage();\r\n\r\n\t// Set correct clear color and blend mode (regular alpha blending)\r\n\tgl.clearColor(0, 0, 0, 0);\r\n\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\r\n\r\n\t// Plugin is successfully initialized!\r\n\tthis.visible = true;\r\n\tthis.running = true;\r\n\tthis.inited = true;\r\n\tthis.destroyed = false;\r\n\r\n\tthis.setupPointerEvents();\r\n\r\n\t// Init animation\r\n\tfunction step() {\r\n\t\tif (!that.destroyed) {\r\n\t\t\tthat.step();\r\n\r\n\t\t\trequestAnimationFrame(step);\r\n\t\t}\r\n\t}\r\n\r\n\trequestAnimationFrame(step);\r\n};\r\n\r\nRipples.DEFAULTS = {\r\n\timageUrl: null,\r\n\tresolution: 256,\r\n\tdropRadius: 20,\r\n\tperturbance: 0.03,\r\n\tinteractive: true,\r\n\tcrossOrigin: ''\r\n};\r\n\r\nRipples.prototype = {\r\n\r\n\t// Set up pointer (mouse + touch) events\r\n\tsetupPointerEvents: function() {\r\n\t\tvar that = this;\r\n\r\n\t\tfunction pointerEventsEnabled() {\r\n\t\t\treturn that.visible && that.running && that.interactive;\r\n\t\t}\r\n\r\n\t\tfunction dropAtPointer(pointer, big) {\r\n\t\t\tif (pointerEventsEnabled()) {\r\n\t\t\t\tthat.dropAtPointer(\r\n\t\t\t\t\tpointer,\r\n\t\t\t\t\tthat.dropRadius * (big ? 1.5 : 1),\r\n\t\t\t\t\t(big ? 0.14 : 0.01)\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Start listening to pointer events\r\n\t\tthis.$el\r\n\r\n\t\t\t// Create regular, small ripples for mouse move and touch events...\r\n\t\t\t.on('mousemove.ripples', function(e) {\r\n\t\t\t\tdropAtPointer(e);\r\n\t\t\t})\r\n\t\t\t.on('touchmove.ripples touchstart.ripples', function(e) {\r\n\t\t\t\tvar touches = e.originalEvent.changedTouches;\r\n\t\t\t\tfor (var i = 0; i < touches.length; i++) {\r\n\t\t\t\t\tdropAtPointer(touches[i]);\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t\t// ...and only a big ripple on mouse down events.\r\n\t\t\t.on('mousedown.ripples', function(e) {\r\n\t\t\t\tdropAtPointer(e, true);\r\n\t\t\t});\r\n\t},\r\n\r\n\t// Load the image either from the options or the element's CSS rules.\r\n\tloadImage: function() {\r\n\t\tvar that = this;\r\n\r\n\t\tgl = this.context;\r\n\r\n\t\tvar newImageSource = this.imageUrl ||\r\n\t\t\textractUrl(this.originalCssBackgroundImage) ||\r\n\t\t\textractUrl(this.$el.css('backgroundImage'));\r\n\r\n\t\t// If image source is unchanged, don't reload it.\r\n\t\tif (newImageSource == this.imageSource) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.imageSource = newImageSource;\r\n\r\n\t\t// Falsy source means no background.\r\n\t\tif (!this.imageSource) {\r\n\t\t\tthis.setTransparentTexture();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Load the texture from a new image.\r\n\t\tvar image = new Image;\r\n\t\timage.onload = function() {\r\n\t\t\tgl = that.context;\r\n\r\n\t\t\t// Only textures with dimensions of powers of two can have repeat wrapping.\r\n\t\t\tfunction isPowerOfTwo(x) {\r\n\t\t\t\treturn (x & (x - 1)) == 0;\r\n\t\t\t}\r\n\r\n\t\t\tvar wrapping = (isPowerOfTwo(image.width) && isPowerOfTwo(image.height)) ? gl.REPEAT : gl.CLAMP_TO_EDGE;\r\n\r\n\t\t\tgl.bindTexture(gl.TEXTURE_2D, that.backgroundTexture);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, wrapping);\r\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, wrapping);\r\n\t\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\r\n\t\t\tthat.backgroundWidth = image.width;\r\n\t\t\tthat.backgroundHeight = image.height;\r\n\r\n\t\t\t// Hide the background that we're replacing.\r\n\t\t\tthat.hideCssBackground();\r\n\t\t};\r\n\r\n\t\t// Fall back to a transparent texture when loading the image failed.\r\n\t\timage.onerror = function() {\r\n\t\t\tgl = that.context;\r\n\r\n\t\t\tthat.setTransparentTexture();\r\n\t\t};\r\n\r\n\t\t// Disable CORS when the image source is a data URI.\r\n\t\timage.crossOrigin = isDataUri(this.imageSource) ? null : this.crossOrigin;\r\n\r\n\t\timage.src = this.imageSource;\r\n\t},\r\n\r\n\tstep: function() {\r\n\t\tgl = this.context;\r\n\r\n\t\tif (!this.visible) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.computeTextureBoundaries();\r\n\r\n\t\tif (this.running) {\r\n\t\t\tthis.update();\r\n\t\t}\r\n\r\n\t\tthis.render();\r\n\t},\r\n\r\n\tdrawQuad: function() {\r\n\t\tgl.bindBuffer(gl.ARRAY_BUFFER, this.quad);\r\n\t\tgl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);\r\n\t\tgl.drawArrays(gl.TRIANGLE_FAN, 0, 4);\r\n\t},\r\n\r\n\trender: function() {\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, null);\r\n\r\n\t\tgl.viewport(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n\t\tgl.useProgram(this.renderProgram.id);\r\n\r\n\t\tbindTexture(this.backgroundTexture, 0);\r\n\t\tbindTexture(this.textures[0], 1);\r\n\r\n\t\tgl.uniform1f(this.renderProgram.locations.perturbance, this.perturbance);\r\n\t\tgl.uniform2fv(this.renderProgram.locations.topLeft, this.renderProgram.uniforms.topLeft);\r\n\t\tgl.uniform2fv(this.renderProgram.locations.bottomRight, this.renderProgram.uniforms.bottomRight);\r\n\t\tgl.uniform2fv(this.renderProgram.locations.containerRatio, this.renderProgram.uniforms.containerRatio);\r\n\t\tgl.uniform1i(this.renderProgram.locations.samplerBackground, 0);\r\n\t\tgl.uniform1i(this.renderProgram.locations.samplerRipples, 1);\r\n\r\n\t\tthis.drawQuad();\r\n\t\tgl.disable(gl.BLEND);\r\n\t},\r\n\r\n\tupdate: function() {\r\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\r\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\r\n\t\tgl.useProgram(this.updateProgram.id);\r\n\r\n\t\tthis.drawQuad();\r\n\r\n\t\tthis.swapBufferIndices();\r\n\t},\r\n\r\n\tswapBufferIndices: function() {\r\n\t\tthis.bufferWriteIndex = 1 - this.bufferWriteIndex;\r\n\t\tthis.bufferReadIndex = 1 - this.bufferReadIndex;\r\n\t},\r\n\r\n\tcomputeTextureBoundaries: function() {\r\n\t\tvar backgroundSize = this.$el.css('background-size');\r\n\t\tvar backgroundAttachment = this.$el.css('background-attachment');\r\n\t\tvar backgroundPosition = translateBackgroundPosition(this.$el.css('background-position'));\r\n\r\n\t\t// Here the 'container' is the element which the background adapts to\r\n\t\t// (either the chrome window or some element, depending on attachment)\r\n\t\tvar container;\r\n\t\tif (backgroundAttachment == 'fixed') {\r\n\t\t\tcontainer = { left: window.pageXOffset, top: window.pageYOffset };\r\n\t\t\tcontainer.width = $window.width();\r\n\t\t\tcontainer.height = $window.height();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tcontainer = this.$el.offset();\r\n\t\t\tcontainer.width = this.$el.innerWidth();\r\n\t\t\tcontainer.height = this.$el.innerHeight();\r\n\t\t}\r\n\r\n\t\t// TODO: background-clip\r\n\t\tif (backgroundSize == 'cover') {\r\n\t\t\tvar scale = Math.max(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\r\n\r\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\r\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\r\n\t\t}\r\n\t\telse if (backgroundSize == 'contain') {\r\n\t\t\tvar scale = Math.min(container.width / this.backgroundWidth, container.height / this.backgroundHeight);\r\n\r\n\t\t\tvar backgroundWidth = this.backgroundWidth * scale;\r\n\t\t\tvar backgroundHeight = this.backgroundHeight * scale;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbackgroundSize = backgroundSize.split(' ');\r\n\t\t\tvar backgroundWidth = backgroundSize[0] || '';\r\n\t\t\tvar backgroundHeight = backgroundSize[1] || backgroundWidth;\r\n\r\n\t\t\tif (isPercentage(backgroundWidth)) {\r\n\t\t\t\tbackgroundWidth = container.width * parseFloat(backgroundWidth) / 100;\r\n\t\t\t}\r\n\t\t\telse if (backgroundWidth != 'auto') {\r\n\t\t\t\tbackgroundWidth = parseFloat(backgroundWidth);\r\n\t\t\t}\r\n\r\n\t\t\tif (isPercentage(backgroundHeight)) {\r\n\t\t\t\tbackgroundHeight = container.height * parseFloat(backgroundHeight) / 100;\r\n\t\t\t}\r\n\t\t\telse if (backgroundHeight != 'auto') {\r\n\t\t\t\tbackgroundHeight = parseFloat(backgroundHeight);\r\n\t\t\t}\r\n\r\n\t\t\tif (backgroundWidth == 'auto' && backgroundHeight == 'auto') {\r\n\t\t\t\tbackgroundWidth = this.backgroundWidth;\r\n\t\t\t\tbackgroundHeight = this.backgroundHeight;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (backgroundWidth == 'auto') {\r\n\t\t\t\t\tbackgroundWidth = this.backgroundWidth * (backgroundHeight / this.backgroundHeight);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (backgroundHeight == 'auto') {\r\n\t\t\t\t\tbackgroundHeight = this.backgroundHeight * (backgroundWidth / this.backgroundWidth);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Compute backgroundX and backgroundY in page coordinates\r\n\t\tvar backgroundX = backgroundPosition[0];\r\n\t\tvar backgroundY = backgroundPosition[1];\r\n\r\n\t\tif (isPercentage(backgroundX)) {\r\n\t\t\tbackgroundX = container.left + (container.width - backgroundWidth) * parseFloat(backgroundX) / 100;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbackgroundX = container.left + parseFloat(backgroundX);\r\n\t\t}\r\n\r\n\t\tif (isPercentage(backgroundY)) {\r\n\t\t\tbackgroundY = container.top + (container.height - backgroundHeight) * parseFloat(backgroundY) / 100;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbackgroundY = container.top + parseFloat(backgroundY);\r\n\t\t}\r\n\r\n\t\tvar elementOffset = this.$el.offset();\r\n\r\n\t\tthis.renderProgram.uniforms.topLeft = new Float32Array([\r\n\t\t\t(elementOffset.left - backgroundX) / backgroundWidth,\r\n\t\t\t(elementOffset.top - backgroundY) / backgroundHeight\r\n\t\t]);\r\n\t\tthis.renderProgram.uniforms.bottomRight = new Float32Array([\r\n\t\t\tthis.renderProgram.uniforms.topLeft[0] + this.$el.innerWidth() / backgroundWidth,\r\n\t\t\tthis.renderProgram.uniforms.topLeft[1] + this.$el.innerHeight() / backgroundHeight\r\n\t\t]);\r\n\r\n\t\tvar maxSide = Math.max(this.canvas.width, this.canvas.height);\r\n\r\n\t\tthis.renderProgram.uniforms.containerRatio = new Float32Array([\r\n\t\t\tthis.canvas.width / maxSide,\r\n\t\t\tthis.canvas.height / maxSide\r\n\t\t]);\r\n\t},\r\n\r\n\tinitShaders: function() {\r\n\t\tvar vertexShader = [\r\n\t\t\t'attribute vec2 vertex;',\r\n\t\t\t'varying vec2 coord;',\r\n\t\t\t'void main() {',\r\n\t\t\t\t'coord = vertex * 0.5 + 0.5;',\r\n\t\t\t\t'gl_Position = vec4(vertex, 0.0, 1.0);',\r\n\t\t\t'}'\r\n\t\t].join('\\n');\r\n\r\n\t\tthis.dropProgram = createProgram(vertexShader, [\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'const float PI = 3.141592653589793;',\r\n\t\t\t'uniform sampler2D texture;',\r\n\t\t\t'uniform vec2 center;',\r\n\t\t\t'uniform float radius;',\r\n\t\t\t'uniform float strength;',\r\n\r\n\t\t\t'varying vec2 coord;',\r\n\r\n\t\t\t'void main() {',\r\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\r\n\r\n\t\t\t\t'float drop = max(0.0, 1.0 - length(center * 0.5 + 0.5 - coord) / radius);',\r\n\t\t\t\t'drop = 0.5 - cos(drop * PI) * 0.5;',\r\n\r\n\t\t\t\t'info.r += drop * strength;',\r\n\r\n\t\t\t\t'gl_FragColor = info;',\r\n\t\t\t'}'\r\n\t\t].join('\\n'));\r\n\r\n\t\tthis.updateProgram = createProgram(vertexShader, [\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'uniform sampler2D texture;',\r\n\t\t\t'uniform vec2 delta;',\r\n\r\n\t\t\t'varying vec2 coord;',\r\n\r\n\t\t\t'void main() {',\r\n\t\t\t\t'vec4 info = texture2D(texture, coord);',\r\n\r\n\t\t\t\t'vec2 dx = vec2(delta.x, 0.0);',\r\n\t\t\t\t'vec2 dy = vec2(0.0, delta.y);',\r\n\r\n\t\t\t\t'float average = (',\r\n\t\t\t\t\t'texture2D(texture, coord - dx).r +',\r\n\t\t\t\t\t'texture2D(texture, coord - dy).r +',\r\n\t\t\t\t\t'texture2D(texture, coord + dx).r +',\r\n\t\t\t\t\t'texture2D(texture, coord + dy).r',\r\n\t\t\t\t') * 0.25;',\r\n\r\n\t\t\t\t'info.g += (average - info.r) * 2.0;',\r\n\t\t\t\t'info.g *= 0.995;',\r\n\t\t\t\t'info.r += info.g;',\r\n\r\n\t\t\t\t'gl_FragColor = info;',\r\n\t\t\t'}'\r\n\t\t].join('\\n'));\r\n\t\tgl.uniform2fv(this.updateProgram.locations.delta, this.textureDelta);\r\n\r\n\t\tthis.renderProgram = createProgram([\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'attribute vec2 vertex;',\r\n\t\t\t'uniform vec2 topLeft;',\r\n\t\t\t'uniform vec2 bottomRight;',\r\n\t\t\t'uniform vec2 containerRatio;',\r\n\t\t\t'varying vec2 ripplesCoord;',\r\n\t\t\t'varying vec2 backgroundCoord;',\r\n\t\t\t'void main() {',\r\n\t\t\t\t'backgroundCoord = mix(topLeft, bottomRight, vertex * 0.5 + 0.5);',\r\n\t\t\t\t'backgroundCoord.y = 1.0 - backgroundCoord.y;',\r\n\t\t\t\t'ripplesCoord = vec2(vertex.x, -vertex.y) * containerRatio * 0.5 + 0.5;',\r\n\t\t\t\t'gl_Position = vec4(vertex.x, -vertex.y, 0.0, 1.0);',\r\n\t\t\t'}'\r\n\t\t].join('\\n'), [\r\n\t\t\t'precision highp float;',\r\n\r\n\t\t\t'uniform sampler2D samplerBackground;',\r\n\t\t\t'uniform sampler2D samplerRipples;',\r\n\t\t\t'uniform vec2 delta;',\r\n\r\n\t\t\t'uniform float perturbance;',\r\n\t\t\t'varying vec2 ripplesCoord;',\r\n\t\t\t'varying vec2 backgroundCoord;',\r\n\r\n\t\t\t'void main() {',\r\n\t\t\t\t'float height = texture2D(samplerRipples, ripplesCoord).r;',\r\n\t\t\t\t'float heightX = texture2D(samplerRipples, vec2(ripplesCoord.x + delta.x, ripplesCoord.y)).r;',\r\n\t\t\t\t'float heightY = texture2D(samplerRipples, vec2(ripplesCoord.x, ripplesCoord.y + delta.y)).r;',\r\n\t\t\t\t'vec3 dx = vec3(delta.x, heightX - height, 0.0);',\r\n\t\t\t\t'vec3 dy = vec3(0.0, heightY - height, delta.y);',\r\n\t\t\t\t'vec2 offset = -normalize(cross(dy, dx)).xz;',\r\n\t\t\t\t'float specular = pow(max(0.0, dot(offset, normalize(vec2(-0.6, 1.0)))), 4.0);',\r\n\t\t\t\t'gl_FragColor = texture2D(samplerBackground, backgroundCoord + offset * perturbance) + specular;',\r\n\t\t\t'}'\r\n\t\t].join('\\n'));\r\n\t\tgl.uniform2fv(this.renderProgram.locations.delta, this.textureDelta);\r\n\t},\r\n\r\n\tinitTexture: function() {\r\n\t\tthis.backgroundTexture = gl.createTexture();\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\r\n\t\tgl.pixelStorei(gl.UNPACK_FLIP_Y_WEBGL, 1);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\r\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n\t},\r\n\r\n\tsetTransparentTexture: function() {\r\n\t\tgl.bindTexture(gl.TEXTURE_2D, this.backgroundTexture);\r\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, transparentPixels);\r\n\t},\r\n\r\n\thideCssBackground: function() {\r\n\r\n\t\t// Check whether we're changing inline CSS or overriding a global CSS rule.\r\n\t\tvar inlineCss = this.$el[0].style.backgroundImage;\r\n\r\n\t\tif (inlineCss == 'none') {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.originalInlineCss = inlineCss;\r\n\r\n\t\tthis.originalCssBackgroundImage = this.$el.css('backgroundImage');\r\n\t\tthis.$el.css('backgroundImage', 'none');\r\n\t},\r\n\r\n\trestoreCssBackground: function() {\r\n\r\n\t\t// Restore background by either changing the inline CSS rule to what it was, or\r\n\t\t// simply remove the inline CSS rule if it never was inlined.\r\n\t\tthis.$el.css('backgroundImage', this.originalInlineCss || '');\r\n\t},\r\n\r\n\tdropAtPointer: function(pointer, radius, strength) {\r\n\t\tvar borderLeft = parseInt(this.$el.css('border-left-width')) || 0,\r\n\t\t\t\tborderTop = parseInt(this.$el.css('border-top-width')) || 0;\r\n\r\n\t\tthis.drop(\r\n\t\t\tpointer.pageX - this.$el.offset().left - borderLeft,\r\n\t\t\tpointer.pageY - this.$el.offset().top - borderTop,\r\n\t\t\tradius,\r\n\t\t\tstrength\r\n\t\t);\r\n\t},\r\n\r\n\t/**\r\n\t *  Public methods\r\n\t */\r\n\tdrop: function(x, y, radius, strength) {\r\n\t\tgl = this.context;\r\n\r\n\t\tvar elWidth = this.$el.innerWidth();\r\n\t\tvar elHeight = this.$el.innerHeight();\r\n\t\tvar longestSide = Math.max(elWidth, elHeight);\r\n\r\n\t\tradius = radius / longestSide;\r\n\r\n\t\tvar dropPosition = new Float32Array([\r\n\t\t\t(2 * x - elWidth) / longestSide,\r\n\t\t\t(elHeight - 2 * y) / longestSide\r\n\t\t]);\r\n\r\n\t\tgl.viewport(0, 0, this.resolution, this.resolution);\r\n\r\n\t\tgl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffers[this.bufferWriteIndex]);\r\n\t\tbindTexture(this.textures[this.bufferReadIndex]);\r\n\r\n\t\tgl.useProgram(this.dropProgram.id);\r\n\t\tgl.uniform2fv(this.dropProgram.locations.center, dropPosition);\r\n\t\tgl.uniform1f(this.dropProgram.locations.radius, radius);\r\n\t\tgl.uniform1f(this.dropProgram.locations.strength, strength);\r\n\r\n\t\tthis.drawQuad();\r\n\r\n\t\tthis.swapBufferIndices();\r\n\t},\r\n\r\n\tupdateSize: function() {\r\n\t\tvar newWidth = this.$el.innerWidth(),\r\n\t\t\t\tnewHeight = this.$el.innerHeight();\r\n\r\n\t\tif (newWidth != this.canvas.width || newHeight != this.canvas.height) {\r\n\t\t\tthis.canvas.width = newWidth;\r\n\t\t\tthis.canvas.height = newHeight;\r\n\t\t}\r\n\t},\r\n\r\n\tdestroy: function() {\r\n\t\tthis.$el\r\n\t\t\t.off('.ripples')\r\n\t\t\t.removeClass('jquery-ripples')\r\n\t\t\t.removeData('ripples');\r\n\r\n\t\t// Make sure the last used context is garbage-collected\r\n\t\tgl = null;\r\n\r\n\t\t$(window).off('resize', this.updateSize);\r\n\r\n\t\tthis.$canvas.remove();\r\n\t\tthis.restoreCssBackground();\r\n\r\n\t\tthis.destroyed = true;\r\n\t},\r\n\r\n\tshow: function() {\r\n\t\tthis.visible = true;\r\n\r\n\t\tthis.$canvas.show();\r\n\t\tthis.hideCssBackground();\r\n\t},\r\n\r\n\thide: function() {\r\n\t\tthis.visible = false;\r\n\r\n\t\tthis.$canvas.hide();\r\n\t\tthis.restoreCssBackground();\r\n\t},\r\n\r\n\tpause: function() {\r\n\t\tthis.running = false;\r\n\t},\r\n\r\n\tplay: function() {\r\n\t\tthis.running = true;\r\n\t},\r\n\r\n\tset: function(property, value) {\r\n\t\tswitch (property) {\r\n\t\t\tcase 'dropRadius':\r\n\t\t\tcase 'perturbance':\r\n\t\t\tcase 'interactive':\r\n\t\t\tcase 'crossOrigin':\r\n\t\t\t\tthis[property] = value;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'imageUrl':\r\n\t\t\t\tthis.imageUrl = value;\r\n\t\t\t\tthis.loadImage();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// RIPPLES PLUGIN DEFINITION\r\n// ==========================\r\n\r\nvar old = $.fn.ripples;\r\n\r\n$.fn.ripples = function(option) {\r\n\tif (!config) {\r\n\t\tthrow new Error('Your browser does not support WebGL, the OES_texture_float extension or rendering to floating point textures.');\r\n\t}\r\n\r\n\tvar args = (arguments.length > 1) ? Array.prototype.slice.call(arguments, 1) : undefined;\r\n\r\n\treturn this.each(function() {\r\n\t\tvar $this = $(this),\r\n\t\t\t\tdata = $this.data('ripples'),\r\n\t\t\t\toptions = $.extend({}, Ripples.DEFAULTS, $this.data(), typeof option == 'object' && option);\r\n\r\n\t\tif (!data && typeof option == 'string') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (!data) {\r\n\t\t\t$this.data('ripples', (data = new Ripples(this, options)));\r\n\t\t}\r\n\t\telse if (typeof option == 'string') {\r\n\t\t\tRipples.prototype[option].apply(data, args);\r\n\t\t}\r\n\t});\r\n};\r\n\r\n$.fn.ripples.Constructor = Ripples;\r\n\r\n\r\n// RIPPLES NO CONFLICT\r\n// ====================\r\n\r\n$.fn.ripples.noConflict = function() {\r\n\t$.fn.ripples = old;\r\n\treturn this;\r\n};\n\n})));\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;;AAEC,WAAUA,MAAM,EAAEC,OAAO,EAAE;EAC3B,OAAOC,OAAO,KAAK,QAAQ,IAAI,OAAOC,MAAM,KAAK,WAAW,GAAGF,OAAO,CAACG,OAAO,CAAC,QAAQ,CAAC,CAAC,GACzF,OAAOC,MAAM,KAAK,UAAU,IAAIA,MAAM,CAACC,GAAG,GAAGD,MAAM,CAAC,CAAC,QAAQ,CAAC,EAAEJ,OAAO,CAAC,GACvEA,OAAO,CAACD,MAAM,CAACO,CAAC,CAAE;AACpB,CAAC,EAAC,IAAI,EAAG,UAAUA,CAAC,EAAE;EAAE,YAAY;;EAEpCA,CAAC,GAAGA,CAAC,IAAI,SAAS,IAAIA,CAAC,GAAGA,CAAC,CAAC,SAAS,CAAC,GAAGA,CAAC;EAE1C,IAAIC,EAAE;EACN,IAAIC,OAAO,GAAGF,CAAC,CAACG,MAAM,CAAC,CAAC,CAAC;;EAEzB,SAASC,YAAY,CAACC,GAAG,EAAE;IAC1B,OAAOA,GAAG,CAACA,GAAG,CAACC,MAAM,GAAG,CAAC,CAAC,IAAI,GAAG;EAClC;;EAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACA,SAASC,UAAU,GAAG;IACrB,IAAIC,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7CT,EAAE,GAAGO,MAAM,CAACG,UAAU,CAAC,OAAO,CAAC,IAAIH,MAAM,CAACG,UAAU,CAAC,oBAAoB,CAAC;IAE1E,IAAI,CAACV,EAAE,EAAE;MACR;MACA,OAAO,IAAI;IACZ;;IAEA;IACA,IAAIW,UAAU,GAAG,CAAC,CAAC;IACnB,CACC,mBAAmB,EACnB,wBAAwB,EACxB,0BAA0B,EAC1B,+BAA+B,CAC/B,CAACC,OAAO,CAAC,UAASC,IAAI,EAAE;MACxB,IAAIC,SAAS,GAAGd,EAAE,CAACe,YAAY,CAACF,IAAI,CAAC;MACrC,IAAIC,SAAS,EAAE;QACdH,UAAU,CAACE,IAAI,CAAC,GAAGC,SAAS;MAC7B;IACD,CAAC,CAAC;;IAEF;IACA,IAAI,CAACH,UAAU,CAACK,iBAAiB,EAAE;MAClC,OAAO,IAAI;IACZ;IAEA,IAAIC,OAAO,GAAG,EAAE;IAEhB,SAASC,YAAY,CAACC,IAAI,EAAEC,MAAM,EAAEC,SAAS,EAAE;MAC9C,IAAIR,IAAI,GAAG,cAAc,GAAGM,IAAI;QAC9BG,UAAU,GAAGT,IAAI,GAAG,SAAS;QAC7BU,aAAa,IAAGD,UAAU,IAAIX,UAAU;QACxCa,gBAAgB,GAAG,CAACX,IAAI,CAAC;MAE3B,IAAIU,aAAa,EAAE;QAClBC,gBAAgB,CAACC,IAAI,CAACH,UAAU,CAAC;MAClC;MAEA,OAAO;QACNH,IAAI,EAAEC,MAAM;QACZC,SAAS,EAAEA,SAAS;QACpBE,aAAa,EAAEA,aAAa;QAC5BZ,UAAU,EAAEa;MACb,CAAC;IACF;IAEAP,OAAO,CAACQ,IAAI,CACXP,YAAY,CAAC,OAAO,EAAElB,EAAE,CAAC0B,KAAK,EAAEC,YAAY,CAAC,CAC7C;IAED,IAAIhB,UAAU,CAACiB,sBAAsB,EAAE;MACtCX,OAAO,CAACQ,IAAI;MACX;MACA;MACA;MACAP,YAAY,CAAC,YAAY,EAAEP,UAAU,CAACiB,sBAAsB,CAACC,cAAc,EAAE,IAAI,CAAC,CAClF;IACF;;IAEA;IACA,IAAIC,OAAO,GAAG9B,EAAE,CAAC+B,aAAa,EAAE;IAChC,IAAIC,WAAW,GAAGhC,EAAE,CAACiC,iBAAiB,EAAE;IAExCjC,EAAE,CAACkC,eAAe,CAAClC,EAAE,CAACmC,WAAW,EAAEH,WAAW,CAAC;IAC/ChC,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,UAAU,EAAEP,OAAO,CAAC;IACtC9B,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAACuC,kBAAkB,EAAEvC,EAAE,CAACwC,OAAO,CAAC;IAClExC,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAACyC,kBAAkB,EAAEzC,EAAE,CAACwC,OAAO,CAAC;IAClExC,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAAC0C,cAAc,EAAE1C,EAAE,CAAC2C,aAAa,CAAC;IACpE3C,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAAC4C,cAAc,EAAE5C,EAAE,CAAC2C,aAAa,CAAC;;IAEpE;IACA,IAAIE,MAAM,GAAG,IAAI;IAEjB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG7B,OAAO,CAACZ,MAAM,EAAEyC,CAAC,EAAE,EAAE;MACxC9C,EAAE,CAAC+C,UAAU,CAAC/C,EAAE,CAACqC,UAAU,EAAE,CAAC,EAAErC,EAAE,CAACgD,IAAI,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAEhD,EAAE,CAACgD,IAAI,EAAE/B,OAAO,CAAC6B,CAAC,CAAC,CAAC3B,IAAI,EAAE,IAAI,CAAC;MAEnFnB,EAAE,CAACiD,oBAAoB,CAACjD,EAAE,CAACmC,WAAW,EAAEnC,EAAE,CAACkD,iBAAiB,EAAElD,EAAE,CAACqC,UAAU,EAAEP,OAAO,EAAE,CAAC,CAAC;MACxF,IAAI9B,EAAE,CAACmD,sBAAsB,CAACnD,EAAE,CAACmC,WAAW,CAAC,KAAKnC,EAAE,CAACoD,oBAAoB,EAAE;QAC1EP,MAAM,GAAG5B,OAAO,CAAC6B,CAAC,CAAC;QACnB;MACD;IACD;IAEA,OAAOD,MAAM;EACd;EAEA,SAASQ,eAAe,CAACC,KAAK,EAAEC,MAAM,EAAE;IACvC,IAAI;MACH,OAAO,IAAIC,SAAS,CAACF,KAAK,EAAEC,MAAM,CAAC;IACpC,CAAC,CACD,OAAOE,CAAC,EAAE;MACT;MACA,IAAIlD,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;MAC7C,OAAOF,MAAM,CAACG,UAAU,CAAC,IAAI,CAAC,CAAC2C,eAAe,CAACC,KAAK,EAAEC,MAAM,CAAC;IAC9D;EACD;EAEA,SAASG,2BAA2B,CAACC,KAAK,EAAE;IAC3C,IAAIC,KAAK,GAAGD,KAAK,CAACE,KAAK,CAAC,GAAG,CAAC;IAE5B,IAAID,KAAK,CAACvD,MAAM,KAAK,CAAC,EAAE;MACvB,QAAQsD,KAAK;QACZ,KAAK,QAAQ;UACZ,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;QACtB,KAAK,KAAK;UACT,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC;QACpB,KAAK,QAAQ;UACZ,OAAO,CAAC,KAAK,EAAE,MAAM,CAAC;QACvB,KAAK,MAAM;UACV,OAAO,CAAC,GAAG,EAAE,KAAK,CAAC;QACpB,KAAK,OAAO;UACX,OAAO,CAAC,MAAM,EAAE,KAAK,CAAC;QACvB;UACC,OAAO,CAACA,KAAK,EAAE,KAAK,CAAC;MAAC;IAEzB,CAAC,MACI;MACJ,OAAOC,KAAK,CAACE,GAAG,CAAC,UAASC,IAAI,EAAE;QAC/B,QAAQJ,KAAK;UACZ,KAAK,QAAQ;YACZ,OAAO,KAAK;UACb,KAAK,KAAK;UACV,KAAK,MAAM;YACV,OAAO,GAAG;UACX,KAAK,OAAO;UACZ,KAAK,QAAQ;YACZ,OAAO,MAAM;UACd;YACC,OAAOI,IAAI;QAAC;MAEf,CAAC,CAAC;IACH;EACD;EAEA,SAASC,aAAa,CAACC,YAAY,EAAEC,cAAc,EAAEC,aAAa,EAAE;IACnE,SAASC,aAAa,CAACjD,IAAI,EAAEkD,MAAM,EAAE;MACpC,IAAIC,MAAM,GAAGtE,EAAE,CAACuE,YAAY,CAACpD,IAAI,CAAC;MAClCnB,EAAE,CAACwE,YAAY,CAACF,MAAM,EAAED,MAAM,CAAC;MAC/BrE,EAAE,CAACyE,aAAa,CAACH,MAAM,CAAC;MACxB,IAAI,CAACtE,EAAE,CAAC0E,kBAAkB,CAACJ,MAAM,EAAEtE,EAAE,CAAC2E,cAAc,CAAC,EAAE;QACtD,MAAM,IAAIC,KAAK,CAAC,iBAAiB,GAAG5E,EAAE,CAAC6E,gBAAgB,CAACP,MAAM,CAAC,CAAC;MACjE;MACA,OAAOA,MAAM;IACd;IAEA,IAAIQ,OAAO,GAAG,CAAC,CAAC;IAEhBA,OAAO,CAACC,EAAE,GAAG/E,EAAE,CAACgE,aAAa,EAAE;IAC/BhE,EAAE,CAACgF,YAAY,CAACF,OAAO,CAACC,EAAE,EAAEX,aAAa,CAACpE,EAAE,CAACiF,aAAa,EAAEhB,YAAY,CAAC,CAAC;IAC1EjE,EAAE,CAACgF,YAAY,CAACF,OAAO,CAACC,EAAE,EAAEX,aAAa,CAACpE,EAAE,CAACkF,eAAe,EAAEhB,cAAc,CAAC,CAAC;IAC9ElE,EAAE,CAACmF,WAAW,CAACL,OAAO,CAACC,EAAE,CAAC;IAC1B,IAAI,CAAC/E,EAAE,CAACoF,mBAAmB,CAACN,OAAO,CAACC,EAAE,EAAE/E,EAAE,CAACqF,WAAW,CAAC,EAAE;MACxD,MAAM,IAAIT,KAAK,CAAC,cAAc,GAAG5E,EAAE,CAACsF,iBAAiB,CAACR,OAAO,CAACC,EAAE,CAAC,CAAC;IACnE;;IAEA;IACAD,OAAO,CAACS,QAAQ,GAAG,CAAC,CAAC;IACrBT,OAAO,CAACU,SAAS,GAAG,CAAC,CAAC;IACtBxF,EAAE,CAACyF,UAAU,CAACX,OAAO,CAACC,EAAE,CAAC;IACzB/E,EAAE,CAAC0F,uBAAuB,CAAC,CAAC,CAAC;IAC7B,IAAIC,KAAK;MAAE9E,IAAI;MAAE+E,KAAK,GAAG,sBAAsB;MAAEC,UAAU,GAAG5B,YAAY,GAAGC,cAAc;IAC3F,OAAO,CAACyB,KAAK,GAAGC,KAAK,CAACE,IAAI,CAACD,UAAU,CAAC,KAAK,IAAI,EAAE;MAChDhF,IAAI,GAAG8E,KAAK,CAAC,CAAC,CAAC;MACfb,OAAO,CAACU,SAAS,CAAC3E,IAAI,CAAC,GAAGb,EAAE,CAAC+F,kBAAkB,CAACjB,OAAO,CAACC,EAAE,EAAElE,IAAI,CAAC;IAClE;IAEA,OAAOiE,OAAO;EACf;EAEA,SAAS1C,WAAW,CAACN,OAAO,EAAEkE,IAAI,EAAE;IACnChG,EAAE,CAACiG,aAAa,CAACjG,EAAE,CAACkG,QAAQ,IAAIF,IAAI,IAAI,CAAC,CAAC,CAAC;IAC3ChG,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,UAAU,EAAEP,OAAO,CAAC;EACvC;EAEA,SAASqE,UAAU,CAACxC,KAAK,EAAE;IAC1B,IAAIyC,QAAQ,GAAG,2BAA2B,CAACN,IAAI,CAACnC,KAAK,CAAC;IACtD,IAAIyC,QAAQ,IAAI,IAAI,EAAE;MACrB,OAAO,IAAI;IACZ;IAEA,OAAOA,QAAQ,CAAC,CAAC,CAAC;EACnB;EAEA,SAASC,SAAS,CAACC,GAAG,EAAE;IACvB,OAAOA,GAAG,CAACX,KAAK,CAAC,QAAQ,CAAC;EAC3B;EAEA,IAAI9C,MAAM,GAAGvC,UAAU,EAAE;EACzB,IAAIiG,iBAAiB,GAAGlD,eAAe,CAAC,EAAE,EAAE,EAAE,CAAC;;EAE/C;EACAtD,CAAC,CAAC,MAAM,CAAC,CAACyG,OAAO,CAAC,oEAAoE,CAAC;;EAEvF;EACA;;EAEA,IAAIC,OAAO,GAAG,UAAUC,EAAE,EAAEC,OAAO,EAAE;IACpC,IAAIC,IAAI,GAAG,IAAI;IAEf,IAAI,CAACC,GAAG,GAAG9G,CAAC,CAAC2G,EAAE,CAAC;;IAEhB;IACA,IAAI,CAACI,WAAW,GAAGH,OAAO,CAACG,WAAW;IACtC,IAAI,CAACC,UAAU,GAAGJ,OAAO,CAACI,UAAU;IACpC,IAAI,CAACC,YAAY,GAAG,IAAIrF,YAAY,CAAC,CAAC,CAAC,GAAG,IAAI,CAACoF,UAAU,EAAE,CAAC,GAAG,IAAI,CAACA,UAAU,CAAC,CAAC;IAEhF,IAAI,CAACE,WAAW,GAAGN,OAAO,CAACM,WAAW;IACtC,IAAI,CAACC,UAAU,GAAGP,OAAO,CAACO,UAAU;IAEpC,IAAI,CAACC,WAAW,GAAGR,OAAO,CAACQ,WAAW;IACtC,IAAI,CAACC,QAAQ,GAAGT,OAAO,CAACS,QAAQ;;IAEhC;IACA,IAAI7G,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC7CF,MAAM,CAAC+C,KAAK,GAAG,IAAI,CAACuD,GAAG,CAACQ,UAAU,EAAE;IACpC9G,MAAM,CAACgD,MAAM,GAAG,IAAI,CAACsD,GAAG,CAACS,WAAW,EAAE;IACtC,IAAI,CAAC/G,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACgH,OAAO,GAAGxH,CAAC,CAACQ,MAAM,CAAC;IACxB,IAAI,CAACgH,OAAO,CAACC,GAAG,CAAC;MAChBC,QAAQ,EAAE,UAAU;MACpBC,IAAI,EAAE,CAAC;MACPC,GAAG,EAAE,CAAC;MACNC,KAAK,EAAE,CAAC;MACRC,MAAM,EAAE,CAAC;MACTC,MAAM,EAAE,CAAC;IACV,CAAC,CAAC;IAEF,IAAI,CAACjB,GAAG,CAACkB,QAAQ,CAAC,gBAAgB,CAAC,CAACC,MAAM,CAACzH,MAAM,CAAC;IAClD,IAAI,CAAC0H,OAAO,GAAGjI,EAAE,GAAGO,MAAM,CAACG,UAAU,CAAC,OAAO,CAAC,IAAIH,MAAM,CAACG,UAAU,CAAC,oBAAoB,CAAC;;IAEzF;IACAmC,MAAM,CAAClC,UAAU,CAACC,OAAO,CAAC,UAASC,IAAI,EAAE;MACxCb,EAAE,CAACe,YAAY,CAACF,IAAI,CAAC;IACtB,CAAC,CAAC;;IAEF;IACA,IAAI,CAACqH,UAAU,GAAG,IAAI,CAACA,UAAU,CAACC,IAAI,CAAC,IAAI,CAAC;IAC5CpI,CAAC,CAACG,MAAM,CAAC,CAACkI,EAAE,CAAC,QAAQ,EAAE,IAAI,CAACF,UAAU,CAAC;;IAEvC;IACA,IAAI,CAACG,QAAQ,GAAG,EAAE;IAClB,IAAI,CAACC,YAAY,GAAG,EAAE;IACtB,IAAI,CAACC,gBAAgB,GAAG,CAAC;IACzB,IAAI,CAACC,eAAe,GAAG,CAAC;IAExB,IAAInH,SAAS,GAAGwB,MAAM,CAACxB,SAAS;IAChC,IAAIoH,WAAW,GAAGpH,SAAS,GAAG,IAAIA,SAAS,CAAC,IAAI,CAAC0F,UAAU,GAAG,IAAI,CAACA,UAAU,GAAG,CAAC,CAAC,GAAG,IAAI;IAEzF,KAAK,IAAIjE,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,CAAC,EAAEA,CAAC,EAAE,EAAE;MAC3B,IAAIhB,OAAO,GAAG9B,EAAE,CAAC+B,aAAa,EAAE;MAChC,IAAIC,WAAW,GAAGhC,EAAE,CAACiC,iBAAiB,EAAE;MAExCjC,EAAE,CAACkC,eAAe,CAAClC,EAAE,CAACmC,WAAW,EAAEH,WAAW,CAAC;MAE/ChC,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,UAAU,EAAEP,OAAO,CAAC;MACtC9B,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAACuC,kBAAkB,EAAEM,MAAM,CAACtB,aAAa,GAAGvB,EAAE,CAAC0I,MAAM,GAAG1I,EAAE,CAACwC,OAAO,CAAC;MACrGxC,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAACyC,kBAAkB,EAAEI,MAAM,CAACtB,aAAa,GAAGvB,EAAE,CAAC0I,MAAM,GAAG1I,EAAE,CAACwC,OAAO,CAAC;MACrGxC,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAAC0C,cAAc,EAAE1C,EAAE,CAAC2C,aAAa,CAAC;MACpE3C,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAAC4C,cAAc,EAAE5C,EAAE,CAAC2C,aAAa,CAAC;MACpE3C,EAAE,CAAC+C,UAAU,CAAC/C,EAAE,CAACqC,UAAU,EAAE,CAAC,EAAErC,EAAE,CAACgD,IAAI,EAAE,IAAI,CAAC+D,UAAU,EAAE,IAAI,CAACA,UAAU,EAAE,CAAC,EAAE/G,EAAE,CAACgD,IAAI,EAAEH,MAAM,CAAC1B,IAAI,EAAEsH,WAAW,CAAC;MAEhHzI,EAAE,CAACiD,oBAAoB,CAACjD,EAAE,CAACmC,WAAW,EAAEnC,EAAE,CAACkD,iBAAiB,EAAElD,EAAE,CAACqC,UAAU,EAAEP,OAAO,EAAE,CAAC,CAAC;MAExF,IAAI,CAACuG,QAAQ,CAAC5G,IAAI,CAACK,OAAO,CAAC;MAC3B,IAAI,CAACwG,YAAY,CAAC7G,IAAI,CAACO,WAAW,CAAC;IACpC;;IAEA;IACA,IAAI,CAAC2G,IAAI,GAAG3I,EAAE,CAAC4I,YAAY,EAAE;IAC7B5I,EAAE,CAAC6I,UAAU,CAAC7I,EAAE,CAAC8I,YAAY,EAAE,IAAI,CAACH,IAAI,CAAC;IACzC3I,EAAE,CAAC+I,UAAU,CAAC/I,EAAE,CAAC8I,YAAY,EAAE,IAAInH,YAAY,CAAC,CAC/C,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,EACN,CAAC,CAAC,EAAE,CAAC,CAAC,CACN,CAAC,EAAE3B,EAAE,CAACgJ,WAAW,CAAC;IAEnB,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,WAAW,EAAE;IAClB,IAAI,CAACC,qBAAqB,EAAE;;IAE5B;IACA,IAAI,CAACC,SAAS,EAAE;;IAEhB;IACApJ,EAAE,CAACqJ,UAAU,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IACzBrJ,EAAE,CAACsJ,SAAS,CAACtJ,EAAE,CAACuJ,SAAS,EAAEvJ,EAAE,CAACwJ,mBAAmB,CAAC;;IAElD;IACA,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,MAAM,GAAG,IAAI;IAClB,IAAI,CAACC,SAAS,GAAG,KAAK;IAEtB,IAAI,CAACC,kBAAkB,EAAE;;IAEzB;IACA,SAASC,IAAI,GAAG;MACf,IAAI,CAAClD,IAAI,CAACgD,SAAS,EAAE;QACpBhD,IAAI,CAACkD,IAAI,EAAE;QAEXC,qBAAqB,CAACD,IAAI,CAAC;MAC5B;IACD;IAEAC,qBAAqB,CAACD,IAAI,CAAC;EAC5B,CAAC;EAEDrD,OAAO,CAACuD,QAAQ,GAAG;IAClB5C,QAAQ,EAAE,IAAI;IACdL,UAAU,EAAE,GAAG;IACfG,UAAU,EAAE,EAAE;IACdD,WAAW,EAAE,IAAI;IACjBH,WAAW,EAAE,IAAI;IACjBK,WAAW,EAAE;EACd,CAAC;EAEDV,OAAO,CAACwD,SAAS,GAAG;IAEnB;IACAJ,kBAAkB,EAAE,YAAW;MAC9B,IAAIjD,IAAI,GAAG,IAAI;MAEf,SAASsD,oBAAoB,GAAG;QAC/B,OAAOtD,IAAI,CAAC6C,OAAO,IAAI7C,IAAI,CAAC8C,OAAO,IAAI9C,IAAI,CAACE,WAAW;MACxD;MAEA,SAASqD,aAAa,CAACC,OAAO,EAAEC,GAAG,EAAE;QACpC,IAAIH,oBAAoB,EAAE,EAAE;UAC3BtD,IAAI,CAACuD,aAAa,CACjBC,OAAO,EACPxD,IAAI,CAACM,UAAU,IAAImD,GAAG,GAAG,GAAG,GAAG,CAAC,CAAC,EAChCA,GAAG,GAAG,IAAI,GAAG,IAAI,CAClB;QACF;MACD;;MAEA;MACA,IAAI,CAACxD;;MAEJ;MAAA,CACCuB,EAAE,CAAC,mBAAmB,EAAE,UAAS3E,CAAC,EAAE;QACpC0G,aAAa,CAAC1G,CAAC,CAAC;MACjB,CAAC,CAAC,CACD2E,EAAE,CAAC,sCAAsC,EAAE,UAAS3E,CAAC,EAAE;QACvD,IAAI6G,OAAO,GAAG7G,CAAC,CAAC8G,aAAa,CAACC,cAAc;QAC5C,KAAK,IAAI1H,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGwH,OAAO,CAACjK,MAAM,EAAEyC,CAAC,EAAE,EAAE;UACxCqH,aAAa,CAACG,OAAO,CAACxH,CAAC,CAAC,CAAC;QAC1B;MACD,CAAC;;MAED;MAAA,CACCsF,EAAE,CAAC,mBAAmB,EAAE,UAAS3E,CAAC,EAAE;QACpC0G,aAAa,CAAC1G,CAAC,EAAE,IAAI,CAAC;MACvB,CAAC,CAAC;IACJ,CAAC;IAED;IACA2F,SAAS,EAAE,YAAW;MACrB,IAAIxC,IAAI,GAAG,IAAI;MAEf5G,EAAE,GAAG,IAAI,CAACiI,OAAO;MAEjB,IAAIwC,cAAc,GAAG,IAAI,CAACrD,QAAQ,IACjCjB,UAAU,CAAC,IAAI,CAACuE,0BAA0B,CAAC,IAC3CvE,UAAU,CAAC,IAAI,CAACU,GAAG,CAACW,GAAG,CAAC,iBAAiB,CAAC,CAAC;;MAE5C;MACA,IAAIiD,cAAc,IAAI,IAAI,CAACE,WAAW,EAAE;QACvC;MACD;MAEA,IAAI,CAACA,WAAW,GAAGF,cAAc;;MAEjC;MACA,IAAI,CAAC,IAAI,CAACE,WAAW,EAAE;QACtB,IAAI,CAACxB,qBAAqB,EAAE;QAC5B;MACD;;MAEA;MACA,IAAIyB,KAAK,GAAG,IAAIC,KAAK;MACrBD,KAAK,CAACE,MAAM,GAAG,YAAW;QACzB9K,EAAE,GAAG4G,IAAI,CAACqB,OAAO;;QAEjB;QACA,SAAS8C,YAAY,CAACC,CAAC,EAAE;UACxB,OAAO,CAACA,CAAC,GAAIA,CAAC,GAAG,CAAE,KAAK,CAAC;QAC1B;QAEA,IAAIC,QAAQ,GAAIF,YAAY,CAACH,KAAK,CAACtH,KAAK,CAAC,IAAIyH,YAAY,CAACH,KAAK,CAACrH,MAAM,CAAC,GAAIvD,EAAE,CAACkL,MAAM,GAAGlL,EAAE,CAAC2C,aAAa;QAEvG3C,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,UAAU,EAAEuE,IAAI,CAACuE,iBAAiB,CAAC;QACrDnL,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAAC0C,cAAc,EAAEuI,QAAQ,CAAC;QAC5DjL,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAAC4C,cAAc,EAAEqI,QAAQ,CAAC;QAC5DjL,EAAE,CAAC+C,UAAU,CAAC/C,EAAE,CAACqC,UAAU,EAAE,CAAC,EAAErC,EAAE,CAACgD,IAAI,EAAEhD,EAAE,CAACgD,IAAI,EAAEhD,EAAE,CAACoL,aAAa,EAAER,KAAK,CAAC;QAE1EhE,IAAI,CAACyE,eAAe,GAAGT,KAAK,CAACtH,KAAK;QAClCsD,IAAI,CAAC0E,gBAAgB,GAAGV,KAAK,CAACrH,MAAM;;QAEpC;QACAqD,IAAI,CAAC2E,iBAAiB,EAAE;MACzB,CAAC;;MAED;MACAX,KAAK,CAACY,OAAO,GAAG,YAAW;QAC1BxL,EAAE,GAAG4G,IAAI,CAACqB,OAAO;QAEjBrB,IAAI,CAACuC,qBAAqB,EAAE;MAC7B,CAAC;;MAED;MACAyB,KAAK,CAACzD,WAAW,GAAGd,SAAS,CAAC,IAAI,CAACsE,WAAW,CAAC,GAAG,IAAI,GAAG,IAAI,CAACxD,WAAW;MAEzEyD,KAAK,CAACa,GAAG,GAAG,IAAI,CAACd,WAAW;IAC7B,CAAC;IAEDb,IAAI,EAAE,YAAW;MAChB9J,EAAE,GAAG,IAAI,CAACiI,OAAO;MAEjB,IAAI,CAAC,IAAI,CAACwB,OAAO,EAAE;QAClB;MACD;MAEA,IAAI,CAACiC,wBAAwB,EAAE;MAE/B,IAAI,IAAI,CAAChC,OAAO,EAAE;QACjB,IAAI,CAACiC,MAAM,EAAE;MACd;MAEA,IAAI,CAACC,MAAM,EAAE;IACd,CAAC;IAEDC,QAAQ,EAAE,YAAW;MACpB7L,EAAE,CAAC6I,UAAU,CAAC7I,EAAE,CAAC8I,YAAY,EAAE,IAAI,CAACH,IAAI,CAAC;MACzC3I,EAAE,CAAC8L,mBAAmB,CAAC,CAAC,EAAE,CAAC,EAAE9L,EAAE,CAAC0B,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC;MACnD1B,EAAE,CAAC+L,UAAU,CAAC/L,EAAE,CAACgM,YAAY,EAAE,CAAC,EAAE,CAAC,CAAC;IACrC,CAAC;IAEDJ,MAAM,EAAE,YAAW;MAClB5L,EAAE,CAACkC,eAAe,CAAClC,EAAE,CAACmC,WAAW,EAAE,IAAI,CAAC;MAExCnC,EAAE,CAACiM,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC1L,MAAM,CAAC+C,KAAK,EAAE,IAAI,CAAC/C,MAAM,CAACgD,MAAM,CAAC;MAExDvD,EAAE,CAACkM,MAAM,CAAClM,EAAE,CAACmM,KAAK,CAAC;MACnBnM,EAAE,CAACoM,KAAK,CAACpM,EAAE,CAACqM,gBAAgB,GAAGrM,EAAE,CAACsM,gBAAgB,CAAC;MAEnDtM,EAAE,CAACyF,UAAU,CAAC,IAAI,CAAC8G,aAAa,CAACxH,EAAE,CAAC;MAEpC3C,WAAW,CAAC,IAAI,CAAC+I,iBAAiB,EAAE,CAAC,CAAC;MACtC/I,WAAW,CAAC,IAAI,CAACiG,QAAQ,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;MAEhCrI,EAAE,CAACwM,SAAS,CAAC,IAAI,CAACD,aAAa,CAAC/G,SAAS,CAACyB,WAAW,EAAE,IAAI,CAACA,WAAW,CAAC;MACxEjH,EAAE,CAACyM,UAAU,CAAC,IAAI,CAACF,aAAa,CAAC/G,SAAS,CAACkH,OAAO,EAAE,IAAI,CAACH,aAAa,CAAChH,QAAQ,CAACmH,OAAO,CAAC;MACxF1M,EAAE,CAACyM,UAAU,CAAC,IAAI,CAACF,aAAa,CAAC/G,SAAS,CAACmH,WAAW,EAAE,IAAI,CAACJ,aAAa,CAAChH,QAAQ,CAACoH,WAAW,CAAC;MAChG3M,EAAE,CAACyM,UAAU,CAAC,IAAI,CAACF,aAAa,CAAC/G,SAAS,CAACoH,cAAc,EAAE,IAAI,CAACL,aAAa,CAAChH,QAAQ,CAACqH,cAAc,CAAC;MACtG5M,EAAE,CAAC6M,SAAS,CAAC,IAAI,CAACN,aAAa,CAAC/G,SAAS,CAACsH,iBAAiB,EAAE,CAAC,CAAC;MAC/D9M,EAAE,CAAC6M,SAAS,CAAC,IAAI,CAACN,aAAa,CAAC/G,SAAS,CAACuH,cAAc,EAAE,CAAC,CAAC;MAE5D,IAAI,CAAClB,QAAQ,EAAE;MACf7L,EAAE,CAACgN,OAAO,CAAChN,EAAE,CAACmM,KAAK,CAAC;IACrB,CAAC;IAEDR,MAAM,EAAE,YAAW;MAClB3L,EAAE,CAACiM,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAClF,UAAU,EAAE,IAAI,CAACA,UAAU,CAAC;MAEnD/G,EAAE,CAACkC,eAAe,CAAClC,EAAE,CAACmC,WAAW,EAAE,IAAI,CAACmG,YAAY,CAAC,IAAI,CAACC,gBAAgB,CAAC,CAAC;MAC5EnG,WAAW,CAAC,IAAI,CAACiG,QAAQ,CAAC,IAAI,CAACG,eAAe,CAAC,CAAC;MAChDxI,EAAE,CAACyF,UAAU,CAAC,IAAI,CAACwH,aAAa,CAAClI,EAAE,CAAC;MAEpC,IAAI,CAAC8G,QAAQ,EAAE;MAEf,IAAI,CAACqB,iBAAiB,EAAE;IACzB,CAAC;IAEDA,iBAAiB,EAAE,YAAW;MAC7B,IAAI,CAAC3E,gBAAgB,GAAG,CAAC,GAAG,IAAI,CAACA,gBAAgB;MACjD,IAAI,CAACC,eAAe,GAAG,CAAC,GAAG,IAAI,CAACA,eAAe;IAChD,CAAC;IAEDkD,wBAAwB,EAAE,YAAW;MACpC,IAAIyB,cAAc,GAAG,IAAI,CAACtG,GAAG,CAACW,GAAG,CAAC,iBAAiB,CAAC;MACpD,IAAI4F,oBAAoB,GAAG,IAAI,CAACvG,GAAG,CAACW,GAAG,CAAC,uBAAuB,CAAC;MAChE,IAAI6F,kBAAkB,GAAG3J,2BAA2B,CAAC,IAAI,CAACmD,GAAG,CAACW,GAAG,CAAC,qBAAqB,CAAC,CAAC;;MAEzF;MACA;MACA,IAAI8F,SAAS;MACb,IAAIF,oBAAoB,IAAI,OAAO,EAAE;QACpCE,SAAS,GAAG;UAAE5F,IAAI,EAAExH,MAAM,CAACqN,WAAW;UAAE5F,GAAG,EAAEzH,MAAM,CAACsN;QAAY,CAAC;QACjEF,SAAS,CAAChK,KAAK,GAAGrD,OAAO,CAACqD,KAAK,EAAE;QACjCgK,SAAS,CAAC/J,MAAM,GAAGtD,OAAO,CAACsD,MAAM,EAAE;MACpC,CAAC,MACI;QACJ+J,SAAS,GAAG,IAAI,CAACzG,GAAG,CAAC4G,MAAM,EAAE;QAC7BH,SAAS,CAAChK,KAAK,GAAG,IAAI,CAACuD,GAAG,CAACQ,UAAU,EAAE;QACvCiG,SAAS,CAAC/J,MAAM,GAAG,IAAI,CAACsD,GAAG,CAACS,WAAW,EAAE;MAC1C;;MAEA;MACA,IAAI6F,cAAc,IAAI,OAAO,EAAE;QAC9B,IAAIO,KAAK,GAAGC,IAAI,CAACC,GAAG,CAACN,SAAS,CAAChK,KAAK,GAAG,IAAI,CAAC+H,eAAe,EAAEiC,SAAS,CAAC/J,MAAM,GAAG,IAAI,CAAC+H,gBAAgB,CAAC;QAEtG,IAAID,eAAe,GAAG,IAAI,CAACA,eAAe,GAAGqC,KAAK;QAClD,IAAIpC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,GAAGoC,KAAK;MACrD,CAAC,MACI,IAAIP,cAAc,IAAI,SAAS,EAAE;QACrC,IAAIO,KAAK,GAAGC,IAAI,CAACE,GAAG,CAACP,SAAS,CAAChK,KAAK,GAAG,IAAI,CAAC+H,eAAe,EAAEiC,SAAS,CAAC/J,MAAM,GAAG,IAAI,CAAC+H,gBAAgB,CAAC;QAEtG,IAAID,eAAe,GAAG,IAAI,CAACA,eAAe,GAAGqC,KAAK;QAClD,IAAIpC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,GAAGoC,KAAK;MACrD,CAAC,MACI;QACJP,cAAc,GAAGA,cAAc,CAACtJ,KAAK,CAAC,GAAG,CAAC;QAC1C,IAAIwH,eAAe,GAAG8B,cAAc,CAAC,CAAC,CAAC,IAAI,EAAE;QAC7C,IAAI7B,gBAAgB,GAAG6B,cAAc,CAAC,CAAC,CAAC,IAAI9B,eAAe;QAE3D,IAAIlL,YAAY,CAACkL,eAAe,CAAC,EAAE;UAClCA,eAAe,GAAGiC,SAAS,CAAChK,KAAK,GAAGwK,UAAU,CAACzC,eAAe,CAAC,GAAG,GAAG;QACtE,CAAC,MACI,IAAIA,eAAe,IAAI,MAAM,EAAE;UACnCA,eAAe,GAAGyC,UAAU,CAACzC,eAAe,CAAC;QAC9C;QAEA,IAAIlL,YAAY,CAACmL,gBAAgB,CAAC,EAAE;UACnCA,gBAAgB,GAAGgC,SAAS,CAAC/J,MAAM,GAAGuK,UAAU,CAACxC,gBAAgB,CAAC,GAAG,GAAG;QACzE,CAAC,MACI,IAAIA,gBAAgB,IAAI,MAAM,EAAE;UACpCA,gBAAgB,GAAGwC,UAAU,CAACxC,gBAAgB,CAAC;QAChD;QAEA,IAAID,eAAe,IAAI,MAAM,IAAIC,gBAAgB,IAAI,MAAM,EAAE;UAC5DD,eAAe,GAAG,IAAI,CAACA,eAAe;UACtCC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB;QACzC,CAAC,MACI;UACJ,IAAID,eAAe,IAAI,MAAM,EAAE;YAC9BA,eAAe,GAAG,IAAI,CAACA,eAAe,IAAIC,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,CAAC;UACpF;UAEA,IAAIA,gBAAgB,IAAI,MAAM,EAAE;YAC/BA,gBAAgB,GAAG,IAAI,CAACA,gBAAgB,IAAID,eAAe,GAAG,IAAI,CAACA,eAAe,CAAC;UACpF;QACD;MACD;;MAEA;MACA,IAAI0C,WAAW,GAAGV,kBAAkB,CAAC,CAAC,CAAC;MACvC,IAAIW,WAAW,GAAGX,kBAAkB,CAAC,CAAC,CAAC;MAEvC,IAAIlN,YAAY,CAAC4N,WAAW,CAAC,EAAE;QAC9BA,WAAW,GAAGT,SAAS,CAAC5F,IAAI,GAAG,CAAC4F,SAAS,CAAChK,KAAK,GAAG+H,eAAe,IAAIyC,UAAU,CAACC,WAAW,CAAC,GAAG,GAAG;MACnG,CAAC,MACI;QACJA,WAAW,GAAGT,SAAS,CAAC5F,IAAI,GAAGoG,UAAU,CAACC,WAAW,CAAC;MACvD;MAEA,IAAI5N,YAAY,CAAC6N,WAAW,CAAC,EAAE;QAC9BA,WAAW,GAAGV,SAAS,CAAC3F,GAAG,GAAG,CAAC2F,SAAS,CAAC/J,MAAM,GAAG+H,gBAAgB,IAAIwC,UAAU,CAACE,WAAW,CAAC,GAAG,GAAG;MACpG,CAAC,MACI;QACJA,WAAW,GAAGV,SAAS,CAAC3F,GAAG,GAAGmG,UAAU,CAACE,WAAW,CAAC;MACtD;MAEA,IAAIC,aAAa,GAAG,IAAI,CAACpH,GAAG,CAAC4G,MAAM,EAAE;MAErC,IAAI,CAAClB,aAAa,CAAChH,QAAQ,CAACmH,OAAO,GAAG,IAAI/K,YAAY,CAAC,CACtD,CAACsM,aAAa,CAACvG,IAAI,GAAGqG,WAAW,IAAI1C,eAAe,EACpD,CAAC4C,aAAa,CAACtG,GAAG,GAAGqG,WAAW,IAAI1C,gBAAgB,CACpD,CAAC;MACF,IAAI,CAACiB,aAAa,CAAChH,QAAQ,CAACoH,WAAW,GAAG,IAAIhL,YAAY,CAAC,CAC1D,IAAI,CAAC4K,aAAa,CAAChH,QAAQ,CAACmH,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC7F,GAAG,CAACQ,UAAU,EAAE,GAAGgE,eAAe,EAChF,IAAI,CAACkB,aAAa,CAAChH,QAAQ,CAACmH,OAAO,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC7F,GAAG,CAACS,WAAW,EAAE,GAAGgE,gBAAgB,CAClF,CAAC;MAEF,IAAI4C,OAAO,GAAGP,IAAI,CAACC,GAAG,CAAC,IAAI,CAACrN,MAAM,CAAC+C,KAAK,EAAE,IAAI,CAAC/C,MAAM,CAACgD,MAAM,CAAC;MAE7D,IAAI,CAACgJ,aAAa,CAAChH,QAAQ,CAACqH,cAAc,GAAG,IAAIjL,YAAY,CAAC,CAC7D,IAAI,CAACpB,MAAM,CAAC+C,KAAK,GAAG4K,OAAO,EAC3B,IAAI,CAAC3N,MAAM,CAACgD,MAAM,GAAG2K,OAAO,CAC5B,CAAC;IACH,CAAC;IAEDjF,WAAW,EAAE,YAAW;MACvB,IAAIkF,YAAY,GAAG,CAClB,wBAAwB,EACxB,qBAAqB,EACrB,eAAe,EACd,6BAA6B,EAC7B,uCAAuC,EACxC,GAAG,CACH,CAACC,IAAI,CAAC,IAAI,CAAC;MAEZ,IAAI,CAACC,WAAW,GAAGrK,aAAa,CAACmK,YAAY,EAAE,CAC9C,wBAAwB,EAExB,qCAAqC,EACrC,4BAA4B,EAC5B,sBAAsB,EACtB,uBAAuB,EACvB,yBAAyB,EAEzB,qBAAqB,EAErB,eAAe,EACd,wCAAwC,EAExC,2EAA2E,EAC3E,oCAAoC,EAEpC,4BAA4B,EAE5B,sBAAsB,EACvB,GAAG,CACH,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MAEb,IAAI,CAACnB,aAAa,GAAGjJ,aAAa,CAACmK,YAAY,EAAE,CAChD,wBAAwB,EAExB,4BAA4B,EAC5B,qBAAqB,EAErB,qBAAqB,EAErB,eAAe,EACd,wCAAwC,EAExC,+BAA+B,EAC/B,+BAA+B,EAE/B,mBAAmB,EAClB,oCAAoC,EACpC,oCAAoC,EACpC,oCAAoC,EACpC,kCAAkC,EACnC,WAAW,EAEX,qCAAqC,EACrC,kBAAkB,EAClB,mBAAmB,EAEnB,sBAAsB,EACvB,GAAG,CACH,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;MACbpO,EAAE,CAACyM,UAAU,CAAC,IAAI,CAACQ,aAAa,CAACzH,SAAS,CAAC8I,KAAK,EAAE,IAAI,CAACtH,YAAY,CAAC;MAEpE,IAAI,CAACuF,aAAa,GAAGvI,aAAa,CAAC,CAClC,wBAAwB,EAExB,wBAAwB,EACxB,uBAAuB,EACvB,2BAA2B,EAC3B,8BAA8B,EAC9B,4BAA4B,EAC5B,+BAA+B,EAC/B,eAAe,EACd,kEAAkE,EAClE,8CAA8C,EAC9C,wEAAwE,EACxE,oDAAoD,EACrD,GAAG,CACH,CAACoK,IAAI,CAAC,IAAI,CAAC,EAAE,CACb,wBAAwB,EAExB,sCAAsC,EACtC,mCAAmC,EACnC,qBAAqB,EAErB,4BAA4B,EAC5B,4BAA4B,EAC5B,+BAA+B,EAE/B,eAAe,EACd,2DAA2D,EAC3D,8FAA8F,EAC9F,8FAA8F,EAC9F,iDAAiD,EACjD,iDAAiD,EACjD,6CAA6C,EAC7C,+EAA+E,EAC/E,iGAAiG,EAClG,GAAG,CACH,CAACA,IAAI,CAAC,IAAI,CAAC,CAAC;MACbpO,EAAE,CAACyM,UAAU,CAAC,IAAI,CAACF,aAAa,CAAC/G,SAAS,CAAC8I,KAAK,EAAE,IAAI,CAACtH,YAAY,CAAC;IACrE,CAAC;IAEDkC,WAAW,EAAE,YAAW;MACvB,IAAI,CAACiC,iBAAiB,GAAGnL,EAAE,CAAC+B,aAAa,EAAE;MAC3C/B,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,UAAU,EAAE,IAAI,CAAC8I,iBAAiB,CAAC;MACrDnL,EAAE,CAACuO,WAAW,CAACvO,EAAE,CAACwO,mBAAmB,EAAE,CAAC,CAAC;MACzCxO,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAACyC,kBAAkB,EAAEzC,EAAE,CAAC0I,MAAM,CAAC;MACjE1I,EAAE,CAACsC,aAAa,CAACtC,EAAE,CAACqC,UAAU,EAAErC,EAAE,CAACuC,kBAAkB,EAAEvC,EAAE,CAAC0I,MAAM,CAAC;IAClE,CAAC;IAEDS,qBAAqB,EAAE,YAAW;MACjCnJ,EAAE,CAACoC,WAAW,CAACpC,EAAE,CAACqC,UAAU,EAAE,IAAI,CAAC8I,iBAAiB,CAAC;MACrDnL,EAAE,CAAC+C,UAAU,CAAC/C,EAAE,CAACqC,UAAU,EAAE,CAAC,EAAErC,EAAE,CAACgD,IAAI,EAAEhD,EAAE,CAACgD,IAAI,EAAEhD,EAAE,CAACoL,aAAa,EAAE7E,iBAAiB,CAAC;IACvF,CAAC;IAEDgF,iBAAiB,EAAE,YAAW;MAE7B;MACA,IAAIkD,SAAS,GAAG,IAAI,CAAC5H,GAAG,CAAC,CAAC,CAAC,CAAC6H,KAAK,CAACC,eAAe;MAEjD,IAAIF,SAAS,IAAI,MAAM,EAAE;QACxB;MACD;MAEA,IAAI,CAACG,iBAAiB,GAAGH,SAAS;MAElC,IAAI,CAAC/D,0BAA0B,GAAG,IAAI,CAAC7D,GAAG,CAACW,GAAG,CAAC,iBAAiB,CAAC;MACjE,IAAI,CAACX,GAAG,CAACW,GAAG,CAAC,iBAAiB,EAAE,MAAM,CAAC;IACxC,CAAC;IAEDqH,oBAAoB,EAAE,YAAW;MAEhC;MACA;MACA,IAAI,CAAChI,GAAG,CAACW,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAACoH,iBAAiB,IAAI,EAAE,CAAC;IAC9D,CAAC;IAEDzE,aAAa,EAAE,UAASC,OAAO,EAAE0E,MAAM,EAAEC,QAAQ,EAAE;MAClD,IAAIC,UAAU,GAAGC,QAAQ,CAAC,IAAI,CAACpI,GAAG,CAACW,GAAG,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAAC;QAC/D0H,SAAS,GAAGD,QAAQ,CAAC,IAAI,CAACpI,GAAG,CAACW,GAAG,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAAC;MAE7D,IAAI,CAAC2H,IAAI,CACR/E,OAAO,CAACgF,KAAK,GAAG,IAAI,CAACvI,GAAG,CAAC4G,MAAM,EAAE,CAAC/F,IAAI,GAAGsH,UAAU,EACnD5E,OAAO,CAACiF,KAAK,GAAG,IAAI,CAACxI,GAAG,CAAC4G,MAAM,EAAE,CAAC9F,GAAG,GAAGuH,SAAS,EACjDJ,MAAM,EACNC,QAAQ,CACR;IACF,CAAC;IAED;AACD;AACA;IACCI,IAAI,EAAE,UAASnE,CAAC,EAAEsE,CAAC,EAAER,MAAM,EAAEC,QAAQ,EAAE;MACtC/O,EAAE,GAAG,IAAI,CAACiI,OAAO;MAEjB,IAAIsH,OAAO,GAAG,IAAI,CAAC1I,GAAG,CAACQ,UAAU,EAAE;MACnC,IAAImI,QAAQ,GAAG,IAAI,CAAC3I,GAAG,CAACS,WAAW,EAAE;MACrC,IAAImI,WAAW,GAAG9B,IAAI,CAACC,GAAG,CAAC2B,OAAO,EAAEC,QAAQ,CAAC;MAE7CV,MAAM,GAAGA,MAAM,GAAGW,WAAW;MAE7B,IAAIC,YAAY,GAAG,IAAI/N,YAAY,CAAC,CACnC,CAAC,CAAC,GAAGqJ,CAAC,GAAGuE,OAAO,IAAIE,WAAW,EAC/B,CAACD,QAAQ,GAAG,CAAC,GAAGF,CAAC,IAAIG,WAAW,CAChC,CAAC;MAEFzP,EAAE,CAACiM,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAClF,UAAU,EAAE,IAAI,CAACA,UAAU,CAAC;MAEnD/G,EAAE,CAACkC,eAAe,CAAClC,EAAE,CAACmC,WAAW,EAAE,IAAI,CAACmG,YAAY,CAAC,IAAI,CAACC,gBAAgB,CAAC,CAAC;MAC5EnG,WAAW,CAAC,IAAI,CAACiG,QAAQ,CAAC,IAAI,CAACG,eAAe,CAAC,CAAC;MAEhDxI,EAAE,CAACyF,UAAU,CAAC,IAAI,CAAC4I,WAAW,CAACtJ,EAAE,CAAC;MAClC/E,EAAE,CAACyM,UAAU,CAAC,IAAI,CAAC4B,WAAW,CAAC7I,SAAS,CAACmK,MAAM,EAAED,YAAY,CAAC;MAC9D1P,EAAE,CAACwM,SAAS,CAAC,IAAI,CAAC6B,WAAW,CAAC7I,SAAS,CAACsJ,MAAM,EAAEA,MAAM,CAAC;MACvD9O,EAAE,CAACwM,SAAS,CAAC,IAAI,CAAC6B,WAAW,CAAC7I,SAAS,CAACuJ,QAAQ,EAAEA,QAAQ,CAAC;MAE3D,IAAI,CAAClD,QAAQ,EAAE;MAEf,IAAI,CAACqB,iBAAiB,EAAE;IACzB,CAAC;IAEDhF,UAAU,EAAE,YAAW;MACtB,IAAI0H,QAAQ,GAAG,IAAI,CAAC/I,GAAG,CAACQ,UAAU,EAAE;QAClCwI,SAAS,GAAG,IAAI,CAAChJ,GAAG,CAACS,WAAW,EAAE;MAEpC,IAAIsI,QAAQ,IAAI,IAAI,CAACrP,MAAM,CAAC+C,KAAK,IAAIuM,SAAS,IAAI,IAAI,CAACtP,MAAM,CAACgD,MAAM,EAAE;QACrE,IAAI,CAAChD,MAAM,CAAC+C,KAAK,GAAGsM,QAAQ;QAC5B,IAAI,CAACrP,MAAM,CAACgD,MAAM,GAAGsM,SAAS;MAC/B;IACD,CAAC;IAEDC,OAAO,EAAE,YAAW;MACnB,IAAI,CAACjJ,GAAG,CACNkJ,GAAG,CAAC,UAAU,CAAC,CACfC,WAAW,CAAC,gBAAgB,CAAC,CAC7BC,UAAU,CAAC,SAAS,CAAC;;MAEvB;MACAjQ,EAAE,GAAG,IAAI;MAETD,CAAC,CAACG,MAAM,CAAC,CAAC6P,GAAG,CAAC,QAAQ,EAAE,IAAI,CAAC7H,UAAU,CAAC;MAExC,IAAI,CAACX,OAAO,CAAC2I,MAAM,EAAE;MACrB,IAAI,CAACrB,oBAAoB,EAAE;MAE3B,IAAI,CAACjF,SAAS,GAAG,IAAI;IACtB,CAAC;IAEDuG,IAAI,EAAE,YAAW;MAChB,IAAI,CAAC1G,OAAO,GAAG,IAAI;MAEnB,IAAI,CAAClC,OAAO,CAAC4I,IAAI,EAAE;MACnB,IAAI,CAAC5E,iBAAiB,EAAE;IACzB,CAAC;IAED6E,IAAI,EAAE,YAAW;MAChB,IAAI,CAAC3G,OAAO,GAAG,KAAK;MAEpB,IAAI,CAAClC,OAAO,CAAC6I,IAAI,EAAE;MACnB,IAAI,CAACvB,oBAAoB,EAAE;IAC5B,CAAC;IAEDwB,KAAK,EAAE,YAAW;MACjB,IAAI,CAAC3G,OAAO,GAAG,KAAK;IACrB,CAAC;IAED4G,IAAI,EAAE,YAAW;MAChB,IAAI,CAAC5G,OAAO,GAAG,IAAI;IACpB,CAAC;IAED6G,GAAG,EAAE,UAASC,QAAQ,EAAE7M,KAAK,EAAE;MAC9B,QAAQ6M,QAAQ;QACf,KAAK,YAAY;QACjB,KAAK,aAAa;QAClB,KAAK,aAAa;QAClB,KAAK,aAAa;UACjB,IAAI,CAACA,QAAQ,CAAC,GAAG7M,KAAK;UACtB;QACD,KAAK,UAAU;UACd,IAAI,CAACyD,QAAQ,GAAGzD,KAAK;UACrB,IAAI,CAACyF,SAAS,EAAE;UAChB;MAAM;IAET;EACD,CAAC;;EAED;EACA;;EAEA,IAAIqH,GAAG,GAAG1Q,CAAC,CAAC2Q,EAAE,CAACC,OAAO;EAEtB5Q,CAAC,CAAC2Q,EAAE,CAACC,OAAO,GAAG,UAASC,MAAM,EAAE;IAC/B,IAAI,CAAC/N,MAAM,EAAE;MACZ,MAAM,IAAI+B,KAAK,CAAC,+GAA+G,CAAC;IACjI;IAEA,IAAIiM,IAAI,GAAIC,SAAS,CAACzQ,MAAM,GAAG,CAAC,GAAI0Q,KAAK,CAAC9G,SAAS,CAAC+G,KAAK,CAACC,IAAI,CAACH,SAAS,EAAE,CAAC,CAAC,GAAGI,SAAS;IAExF,OAAO,IAAI,CAACC,IAAI,CAAC,YAAW;MAC3B,IAAIC,KAAK,GAAGrR,CAAC,CAAC,IAAI,CAAC;QACjBsR,IAAI,GAAGD,KAAK,CAACC,IAAI,CAAC,SAAS,CAAC;QAC5B1K,OAAO,GAAG5G,CAAC,CAACuR,MAAM,CAAC,CAAC,CAAC,EAAE7K,OAAO,CAACuD,QAAQ,EAAEoH,KAAK,CAACC,IAAI,EAAE,EAAE,OAAOT,MAAM,IAAI,QAAQ,IAAIA,MAAM,CAAC;MAE7F,IAAI,CAACS,IAAI,IAAI,OAAOT,MAAM,IAAI,QAAQ,EAAE;QACvC;MACD;MACA,IAAI,CAACS,IAAI,EAAE;QACVD,KAAK,CAACC,IAAI,CAAC,SAAS,EAAGA,IAAI,GAAG,IAAI5K,OAAO,CAAC,IAAI,EAAEE,OAAO,CAAC,CAAE;MAC3D,CAAC,MACI,IAAI,OAAOiK,MAAM,IAAI,QAAQ,EAAE;QACnCnK,OAAO,CAACwD,SAAS,CAAC2G,MAAM,CAAC,CAACW,KAAK,CAACF,IAAI,EAAER,IAAI,CAAC;MAC5C;IACD,CAAC,CAAC;EACH,CAAC;EAED9Q,CAAC,CAAC2Q,EAAE,CAACC,OAAO,CAACa,WAAW,GAAG/K,OAAO;;EAGlC;EACA;;EAEA1G,CAAC,CAAC2Q,EAAE,CAACC,OAAO,CAACc,UAAU,GAAG,YAAW;IACpC1R,CAAC,CAAC2Q,EAAE,CAACC,OAAO,GAAGF,GAAG;IAClB,OAAO,IAAI;EACZ,CAAC;AAED,CAAC,CAAE"},"metadata":{},"sourceType":"script"}